/* :asset_packager_compatibility, 'config/asset_packages.yml' @ 1520375127 */
/* public/javascripts/imagesloaded.pkgd.js @ 1520375127 */
!function(e){"use strict";function t(){}function n(e,t){if(r)return t.indexOf(e);for(var n=t.length;n--;)if(t[n]===e)return n;return-1}var i=t.prototype,r=Array.prototype.indexOf?!0:!1;i._getEvents=function(){return this._events||(this._events={})},i.getListeners=function(e){var t,n,i=this._getEvents();if("object"==typeof e){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,t){var i,r=this.getListenersAsObject(e);for(i in r)r.hasOwnProperty(i)&&-1===n(t,r[i])&&r[i].push(t);return this},i.on=i.addListener,i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,t){var i,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&(i=n(t,o[r]),-1!==i&&o[r].splice(i,1));return this},i.off=i.removeListener,i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if("object"===n)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.emitEvent=function(e,t){var n,i,r,o=this.getListenersAsObject(e);for(i in o)if(o.hasOwnProperty(i))for(n=o[i].length;n--;)r=t?o[i][n].apply(null,t):o[i][n](),r===!0&&this.removeListener(e,o[i][n]);return this},i.trigger=i.emitEvent,i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},"function"==typeof define&&define.amd?define(function(){return t}):e.EventEmitter=t}(this),function(e){"use strict";var t=document.documentElement,n=function(){};t.addEventListener?n=function(e,t,n){e.addEventListener(t,n,!1)}:t.attachEvent&&(n=function(t,n,i){t[n+i]=i.handleEvent?function(){var t=e.event;t.target=t.target||t.srcElement,i.handleEvent.call(i,t)}:function(){var n=e.event;n.target=n.target||n.srcElement,i.call(t,n)},t.attachEvent("on"+n,t[n+i])});var i=function(){};t.removeEventListener?i=function(e,t,n){e.removeEventListener(t,n,!1)}:t.detachEvent&&(i=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var r={bind:n,unbind:i};"function"==typeof define&&define.amd?define(r):e.eventie=r}(this),function(e){"use strict";function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e){return"[object Array]"===c.call(e)}function i(e){var t=[];if(n(e))t=e;else if("number"==typeof e.length)for(var i=0,r=e.length;r>i;i++)t.push(e[i]);else t.push(e);return t}function r(e,n){function r(e,n,s){if(!(this instanceof r))return new r(e,n);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=i(e),this.options=t({},this.options),"function"==typeof n?s=n:t(this.options,n),s&&this.on("always",s),this.getImages(),o&&(this.jqDeferred=new o.Deferred);var a=this;setTimeout(function(){a.check()})}function c(e){this.img=e}r.prototype=new e,r.prototype.options={},r.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);for(var i=n.querySelectorAll("img"),r=0,o=i.length;o>r;r++){var s=i[r];this.addImage(s)}}},r.prototype.addImage=function(e){var t=new c(e);this.images.push(t)},r.prototype.check=function(){function e(e,r){return t.options.debug&&a&&s.log("confirm",e,r),t.progress(e),n++,n===i&&t.complete(),!0}var t=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return void this.complete();for(var r=0;i>r;r++){var o=this.images[r];o.on("confirm",e),o.check()}},r.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emit("progress",this,e),this.jqDeferred&&this.jqDeferred.notify(this,e)},r.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emit(e,this),this.emit("always",this),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},o&&(o.fn.imagesLoaded=function(e,t){var n=new r(this,e,t);return n.jqDeferred.promise(o(this))});var l={};return c.prototype=new e,c.prototype.check=function(){var e=l[this.img.src];if(e)return void this.useCached(e);if(l[this.img.src]=this,this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var t=this.proxyImage=new Image;n.bind(t,"load",this),n.bind(t,"error",this),t.src=this.img.src},c.prototype.useCached=function(e){if(e.isConfirmed)this.confirm(e.isLoaded,"cached was confirmed");else{var t=this;e.on("confirm",function(e){return t.confirm(e.isLoaded,"cache emitted confirmed"),!0})}},c.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},c.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},c.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindProxyEvents()},c.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindProxyEvents()},c.prototype.unbindProxyEvents=function(){n.unbind(this.proxyImage,"load",this),n.unbind(this.proxyImage,"error",this)},r}var o=e.jQuery,s=e.console,a="undefined"!=typeof s,c=Object.prototype.toString;"function"==typeof define&&define.amd?define(["eventEmitter","eventie"],r):e.imagesLoaded=r(e.EventEmitter,e.eventie)}(window);


/* public/javascripts/ouibounce.js @ 1520375127 */
!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t(require,exports,module):e.ouibounce=t()}(this,function(){return function(e,t){"use strict";function n(e,t){return"undefined"==typeof e?t:e}function i(e){var t=24*e*60*60*1e3,n=new Date;return n.setTime(n.getTime()+t),"; expires="+n.toUTCString()}function r(){u()||(S.addEventListener("mouseleave",o),S.addEventListener("mouseenter",s),S.addEventListener("keydown",a))}function o(e){e.clientY>_||(x=setTimeout(d,g))}function s(){x&&(clearTimeout(x),x=null)}function a(e){C||e.metaKey&&76===e.keyCode&&(C=!0,x=setTimeout(d,g))}function c(e,t){return l()[e]===t}function l(){for(var e=document.cookie.split("; "),t={},n=e.length-1;n>=0;n--){var i=e[n].split("=");t[i[0]]=i[1]}return t}function u(){return c(w,"true")&&!f}function d(){u()||(e&&(e.style.display="block"),v(),h())}function h(e){var t=e||{};"undefined"!=typeof t.cookieExpire&&(b=i(t.cookieExpire)),t.sitewide===!0&&(k=";path=/"),"undefined"!=typeof t.cookieDomain&&(y=";domain="+t.cookieDomain),"undefined"!=typeof t.cookieName&&(w=t.cookieName),document.cookie=w+"=true"+b+y+k,S.removeEventListener("mouseleave",o),S.removeEventListener("mouseenter",s),S.removeEventListener("keydown",a)}var p=t||{},f=p.aggressive||!1,_=n(p.sensitivity,20),m=n(p.timer,1e3),g=n(p.delay,0),v=p.callback||function(){},b=i(p.cookieExpire)||"",y=p.cookieDomain?";domain="+p.cookieDomain:"",w=p.cookieName?p.cookieName:"viewedOuibounceModal",k=p.sitewide===!0?";path=/":"",x=null,S=document.documentElement;setTimeout(r,m);var C=!1;return{fire:d,disable:h,isDisabled:u}}});


/* :asset_packager_compatibility, 'config/asset_packages.yml' @ 1520375044 */


/* :files, 'public/javascripts/shared', ... @ (none) */


/* :files, 'app/views', ... @ (none) */


/* :files, 'app/views', ... @ 1520375044 */
/* app/views/shared/recommendation_tracking.coffee @ 1520375044 */
(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=[].slice;Scribd.RecommendationTracking=function(){function n(){throw"Scribd.RecommendationTracking is not instantiatable"}return n._page_count=0,n._compilation_ids={},n._seen_rv_events={},n.Module=function(){function n(t,n){this.opts=null!=n?n:{},this.ready=e(this.ready,this),this.container=$(t),this.container.on("scribd:enclosing_tracking_module",function(e){return function(t,n){return n(e)}}(this)),this.with_tracking=$.Deferred(function(e){return function(t){return t.done(function(t){var n;return e.tracking=t,"function"==typeof(n=e.opts).on_tracking?n.on_tracking(e.tracking):void 0})}}(this)),this.opts.compilation_id?Scribd.RecommendationTracking.page_view_deferred(this.opts.compilation_id).done(function(e){return function(t){return e.ready(t,e.opts.widget_name)}}(this)):this.container.on("scribd:setup_tracking",function(e){return function(t,n,i){return e.ready(n,i)}}(this))}return n.prototype.setup_inview_tracking=function(){return null==this.tracking?"undefined"!=typeof console&&null!==console?console.error("missing tracking"):void 0:(this.container.one("inview",function(e){return function(){var t;return Scribd.RecommendationTracking.track_module_view(e.tracking.view_id,e.tracking.module_id,e.tracking.widget_name),null!=(t=e.opts.on_in_view)?t.call(e,e.tracking):void 0}}(this)),Scribd.RecommendationTracking.trigger_inview_check())},n.prototype.setup_click_tracking=function(e){var t,n,i,r,o,s,a;if(null==e&&(e=this.container.find("[data-track_uuid]")),null==this.tracking)return"undefined"!=typeof console&&null!==console?console.error("missing tracking"):void 0;for(this.container.data("track_uuid")&&(e=e.add(this.container)),s=[],i=0,r=e.length;r>i;i++)t=e[i],t=$(t),n=t.data("track_rats")||"rc",o="mc"===n?"mi":"ri",a={vi:this.tracking.view_id},a[o]=t.data("track_uuid"),t.attr("data-track_rats",n),s.push(t.attr("data-track_rats_value",JSON.stringify(a)));return s},n.prototype.ready=function(e,t){var n;return(n=this.opts.module_id||this.container.data("track_uuid"))?(this.with_tracking.resolve({widget_name:t,view_id:e,module_id:n}),this.setup_inview_tracking(),this.setup_click_tracking()):void 0},n.prototype.track_module_click=function(){var e;return e=1<=arguments.length?t.call(arguments,0):[],this.with_tracking.done(function(){return function(n){var i;return(i=Scribd.RecommendationTracking).track_module_click.apply(i,[n.view_id,n.module_id].concat(t.call(e)))}}(this))},n}(),n.page_view_deferred=function(e){var t;return e?(n._view_id_deferred||(n._view_id_deferred={}),t=n._view_id_deferred[e],t||(t=$.Deferred(),n._view_id_deferred[e]=t,Scribd.RecommendationTracking.track_page_view(e,function(e){return t.resolve(e)})),t):(console.debug("attempted page view without compilation id"),$.Deferred())},n.track_page_view=function(e,t){var n;return n=this._compilation_ids[e],null==n&&(n=this._compilation_ids[e]=this._page_count++),$rat.root().withVid(function(){return function(i){return i=i+"."+n,$rat("pv",{vi:i,ci:e}),"function"==typeof t?t(i):void 0}}(this))},n.track_module_view=function(e,t,n){var i;if(!this.seen_event(e,t))return i={vi:e,mi:t},null!=n&&(i.w=n),$rat("mv",i)},n.track_module_click=function(e,t,n){var i;return i={vi:e,mi:t},null!=n&&(i.t=n),$rat("mc",i)},n.track_obj_view=function(e,t){return this.seen_event(e,t)?void 0:$rat("rv",{vi:e,ri:t})},n.seen_event=function(e,t){var n;return n=e+"#"+t,this._seen_rv_events[n]?!0:(this._seen_rv_events[n]=!0,!1)},n.track_obj_click=function(e,t){return $rat("rc",{vi:e,ri:t})},n.trigger_inview_check=function(){return this.trigger_inview_check=_.debounce(function(){return $.event.special.inview.run()},0),this.trigger_inview_check()},n}()}).call(this);


/* app/views/pdfs/highlighter.coffee @ 1520375044 */
(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Scribd.PdfHighlighter=function(){function t(t){this.scroll_to_el=e(this.scroll_to_el,this),this.container=$(t),docManager.addEvent("pageLoaded",function(e){return function(t){var n,i;return n=parseInt(t.id.match(/\d+$/)[0],10),(null!=(i=e.pages_to_highlight)?i[n]:void 0)?(e.highlight_element(t,e.last_query),delete e.pages_to_highlight[n],e.selecting&&e.selecting.page===n?e.select_result(e.selecting.page,e.selecting.idx):void 0):void 0}}(this))}return t.prototype.highlight_class="fourgen_highlight",t.prototype.select_result=function(e,t){var n,i,r,o;return delete this.selecting,(i=null!=(r=docManager.pages[e])?r.innerPageElem:void 0)?(n=this.highlight_class+"_selected",null!=(o=this.selected)&&o.removeClass(n),this.selected=$(i).find("."+this.highlight_class+":eq("+t+")").addClass(n),docManager.gotoPage(e),_.defer(function(e){return function(){return null!=e.selected[0].scrollIntoView?e.scroll_to_el(e.selected):void 0}}(this))):(docManager.gotoPage(e),this.selecting={page:e,idx:t})},t.prototype.scroll_to_el=function(e){var t,n;return"function"==typeof(t=e[0]).scrollIntoView&&t.scrollIntoView(),n=this.container.find(".document_scroller")[0],n.scrollTop-=300},t.prototype.highlight_from_results=function(e,t){var n,i,r,o,s,a,c;for(this.last_query=e,this.last_results=t,this.pages_to_highlight={},s=_.uniq(function(){var e,n,i;for(i=[],e=0,n=t.length;n>e;e++)a=t[e],i.push(a.pageNum);return i}(),!0),c=[],n=0,i=s.length;i>n;n++)o=s[n],r=docManager.pages[o],c.push((null!=r?r.innerPageElem:void 0)?this.highlight_element(r.containerElem,e):this.pages_to_highlight[o]=!0);return c},t.prototype.clear=function(){var e,t,n,i,r,o;for(r=this.container.find("."+this.highlight_class),o=[],t=0,n=r.length;n>t;t++)e=r[t],i=e.parentNode,i.replaceChild(e.firstChild,e),o.push(i.normalize());return o},t.prototype.highlight_element=function(e,t){var n,i,r;return r=RegExp(Scribd.escape_regexp(t),"i"),i=0,n=function(e){return function(o){var s,a,c,l,u,d,h;if(d=0,3===o.nodeType)l=o.data.search(r),l>=0&&(h=$("<span>"),h.addClass(e.highlight_class),s=o.splitText(l),s.splitText(t.length),a=$(s).clone(),h.append(a),$(s).replaceWith(h),d=1,i++);else if(1===o.nodeType&&o.childNodes&&!/(script|style)/i.test(o.tagName))if((null!=(u=o.className)?u.indexOf(e.highlight_class):void 0)<0||null==o.className)for(c=0;c<o.childNodes.length;)c+=n(o.childNodes[c]),++c;else i++;return d}}(this),n(e),i},t}()}).call(this);


/* app/views/pdfs/_seo_shared.coffee @ 1520375044 */
(function(){Scribd.SeoShared=function(){function e(){}return e.quote_duration=5e3,e.display_interval=moment.duration(1,"days"),e.setup_assignment=function(){var e,t,n;if(null!=(n=document.location.search)?n.match(/\bseo_roadblock\b/):void 0)return!0;if(Scribd.eligible_for_seo_roadblock&&this.has_correct_referrer()&&(e=new CookieJar({path:"/",expires:this.display_interval.asSeconds()}),!e.get("seo_ld")||(t=moment(e.get("seo_ld")),moment().isAfter(t.add(this.display_interval)))))return e.put("seo_ld",moment()),!0},e.has_correct_referrer=function(){return"en_US"===I18n.locale?!0:document.referrer.match(/google|bing|yahoo/i)||window.location.hash.match(/\bscribd\b/)},e.banner_variation=function(){return{value_prop:Scribd.nway_test_choice_value("seo_banner_value_prop")||"default"}},e.seo_variation=function(){return"new_basic"},e}()}).call(this);


/* :class_inlines, 'app/views', ... @ 1520375242 */
/* app/views/shared/filtered_document_page.coffee @ 1520375044 */
(function(){Scribd.UI||(Scribd.UI={}),Scribd.UI.FilteredDocumentPage=function(){function e(e){var t;this.container=$(e),t=this.container.find(".filter_picker"),t.is(".open")&&this.container.find(".toggle_filters_btn").addClass("open"),this.container.on("click",".toggle_filters_btn",function(){return function(e){return $(e.currentTarget).toggleClass("open"),t.slideToggle("fast")}}(this)),this.container.find(".language_filter_picker").fancy_select(),this.container.on("change",".language_filter_picker",function(){return function(e){return window.location=$(e.currentTarget).val()}}(this))}return e}()}).call(this),(Scribd.translations=Scribd.translations||[]).push({en_US:{shared:{filtered_document_page:{search:"Search...",filters:"Filters"}}}});


/* app/views/mobile/shared/_view_in_store_promo.coffee @ 1520375044 */
(function(){Scribd.ViewInStorePromo=function(){function e(e,t){this.opts=null!=t?t:{},this.container=$(e),this.default_opts(),this.setup_events()}return e.prototype.default_opts=function(){return this.opts=_.extend({platform:""},this.opts)},e.prototype.setup_events=function(){return this.container.dispatch("click",{view_in_store_link:function(e){return function(){return e.container.track_rats(e.opts.platform+":mobile","click","view_in_store_link"),"continue"}}(this),close:function(e){return function(){return e.container.trigger("scribd:close_banner"),e.container.remove(),"continue"}}(this)}),this.container.click(function(e){return function(t){return $(t.target).closest(".close").length>0||$(t.target).is(".view_in_store_link")?void 0:e.container.find(".view_in_store_link").click()}}(this))},e}()}).call(this),(Scribd.translations=Scribd.translations||[]).push({en_US:{mobile:{shared:{view_in_store_promo:{install:"Install",view:"View",read_books_audiobooks_and_more:"Read books, audiobooks, and more",scribd_inc:"Scribd, Inc",scribd:"Scribd",get_on_the_store_name_platform_store:"GET \u2014 On the %{store_name_platform} Store"}}}}});


/* app/views/mobile/shared/_app_button.coffee @ 1520375044 */
(function(){var e;e=Scribd.init("Scribd","Mobile"),e.AppButton=function(){function e(e,t){this.container=e,this.opts=t,$(function(e){return function(){return e.container=$(e.container),e.container.dispatch("click",{app_btn:function(){return e.open_app(),"continue"}})}}(this))}return e.track_document_open=function(t,n){var i;return e.cookie||(e.cookie=new CookieJar({path:"/mobile",expires:604800})),i=e.cookie.get("roadblock_tracked"),i&&new Date-i<3e5?void 0:(e.cookie.put("roadblock_tracked",+new Date),$.post(t,{resolution:[screen.height,screen.width],timezone_offset:(new Date).getTimezoneOffset(),platform:navigator.platform,document_id:n}))},e.prototype.open_app=function(){var e;return e=this.opts.document_id&&this.opts.track_url?this.constructor.track_document_open(this.opts.track_url,this.opts.document_id):void 0,e||(e=$.when()),e.done(function(e){return function(){return navigator.userAgent.match(/android/i)?window.location.href=e.opts.app_url:navigator.userAgent.match(/Safari/i)?window.location.href=e.opts.store_url:void 0}}(this))},e}()}).call(this);


/* app/views/receipt/content_types.jsxjs @ 1520375242 */
webpackJsonp([68],{5:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=React.PropTypes,a=function(e){function t(e){n(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.enclosing_class="autogen_class_views_receipt_content_types autogen_class_widgets_jsx autogen_class_widgets_react autogen_class_widgets_base",r.state={narrow:!1},r.debounced_resize=_.debounce(r.handle_resize,50),r}return r(t,e),o(t,[{key:"component_classes",value:function(){return"content_types_component"}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.debounced_resize),this.handle_resize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.debounced_resize)}},{key:"get_icon_class",value:function(e){var t=void 0;return t="news"===e?"articles":"sheet_music"===e?"songbook":e,"icon icon-ic_"+t+"_fill"}},{key:"handle_resize",value:function(){this.setState({narrow:this.container.offsetWidth<420})}},{key:"render_headings",value:function(){var e=I18n.t("receipt.content_types.what_does_your_membership_include"),t=I18n.t("receipt.content_types.at_no_additional_cost_you_can");return this.props.is_modal?React.createElement("h3",{className:"modal_title"},t):React.createElement("div",null,React.createElement("h2",{className:"title"},e),React.createElement("em",{className:"subtitle"},t))}},{key:"render_content_types",value:function(){var e=[];for(var t in this.props.browse_urls){var n=React.createElement("li",{key:t,className:"item"},React.createElement("a",{href:this.props.browse_urls[t]},React.createElement("span",{className:this.get_icon_class(t),"aria-hidden":"true"}),React.createElement("span",{className:"label"},I18n.t("receipt.content_types."+t))));e.push(n)}return React.createElement("ul",{className:"content_types"},e)}},{key:"render_disclaimer",value:function(){return React.createElement("div",{className:"disclaimer"},React.createElement("span",null,I18n.t("receipt.content_types.access_an_unlimited_number_of_books")+" "),React.createElement("a",{href:"https://support.scribd.com/hc/en-us/articles/210129486-Scribd-Paid-Access-End-User-License-Agreement"},I18n.t("receipt.content_types.details_here")))}},{key:"render_content",value:function(){return React.createElement("div",{className:classNames("type_wrapper",{narrow:this.state.narrow})},this.render_headings(),this.render_content_types(),this.render_disclaimer())}}]),t}(Scribd.Shared.BaseComponent);a.propTypes={browse_urls:s.object,is_modal:s.bool},t.default=a,Scribd.addComponent("Receipt.ContentTypes",a)}},[5]),(Scribd.translations=Scribd.translations||[]).push({en_US:{receipt:{content_types:{book:"Books",audiobook:"Audiobooks",news:"News",document:"Documents",magazine:"Magazines",sheet_music:"Sheet Music",what_does_your_membership_include:"What does your membership include?",at_no_additional_cost_you_can:"At no additional cost, you can read an unlimited* number of:",access_an_unlimited_number_of_books:"*Access an unlimited number of books and audiobooks; restrictions on some titles may apply.",details_here:"Details Here."}}}});


/* app/views/receipt/download.jsxjs @ 1520375242 */
webpackJsonp([19,36],{0:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CommonButton=void 0;var r=n(2),o=i(r);t.CommonButton=o.default,Scribd.addComponent("Shared.React.CommonButton",o.default)},6:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(0),c=React.PropTypes,l=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.enclosing_class="autogen_class_views_receipt_download autogen_class_widgets_jsx autogen_class_widgets_react autogen_class_widgets_base",n.state={format:e.format?e.format:e.document.formats[0].extension,downloaded:"string"==typeof e.format},n}return o(t,e),s(t,[{key:"component_classes",value:function(){return"download_module"}},{key:"handle_download",value:function(){this.iframe_ref&&(this.iframe_ref.src+=""),this.setState({downloaded:!0})}},{key:"get_download_url",value:function(){var e=this.props.document,t=e.download_url,n=e.access_key,i=t+"/?"+$.param({secret_password:n,extension:this.state.format});return i}},{key:"handle_open_lightbox",value:function(){var e=this,t=this.props.document;Scribd.download_actions.download(t.id,"subscription_receipt",location,function(){$.post(t.download_modal_url,{page:"receipt"}).done(function(n){e.track_rats("doc:download_modal:show");var i=Object.assign({},n.props,{download_url:t.download_modal_url,download_callback:e.download_callback});Scribd.download_actions.render_lightbox(i,!1)})})}},{key:"handle_selection",value:function(e){this.setState({format:e.target.value})}},{key:"handle_selection_download",value:function(){"step_by_step"===this.props.bucket?window.location=this.props.receipt_url+"/?"+$.param({format:this.state.format}):this.handle_download()}},{key:"download_callback",value:function(e){Scribd.Lightbox.close(),this.setState({format:e,downloaded:!0})}},{key:"render_subtitle",value:function(){return this.state.downloaded||this.props.in_modal?this.state.downloaded?React.createElement("div",{className:"download_subtitle"},React.createElement("span",null,I18n.t("receipt.download.having_trouble_downloading")+" "),React.createElement(a.CommonButton,{className:"redownload_btn text_btn",onClick:this.handle_download,text:I18n.t("receipt.download.try_again")})):null:React.createElement("div",{className:"download_subtitle"},React.createElement("span",null,I18n.t("receipt.download.uploaded_by")+" "),React.createElement("a",{href:this.props.document.author.url},this.props.document.author.name))}},{key:"render_format",value:function(e){var t=Scribd.Shared.React.Forms.Radio;return React.createElement(t,{onChange:this.handle_selection,label_text:e.extension,value:e.extension,selected:this.state.format===e.extension,key:e.extension})}},{key:"render_selection",value:function(){if(!this.props.in_modal||this.state.downloaded)return null;var e=Scribd.Shared.React.Forms.InputGroup,t=this.props.document.formats,n=_.findWhere(t,{extension:this.state.format}),i=I18n.t("receipt.download.download_format_extension_touppercase_format_filesize",{format_extension_touppercase:n.extension.toUpperCase(),format_filesize:n.filesize}),r=void 0;return t.length>1&&(r=React.createElement(e,{legend:I18n.t("receipt.download.choose_document_format_type"),horizontal:!0},t.map(this.render_format))),React.createElement("div",{className:"selection_wrapper"},r,React.createElement(a.CommonButton,{className:"download_selection_btn",href:"javascript:void(0)",onClick:this.handle_selection_download,text:i}))}},{key:"render_buttons",value:function(){if(this.props.in_modal)return null;var e=void 0;return this.state.downloaded||(e=React.createElement(a.CommonButton,{className:"download_btn",href:"javascript:void(0)",onClick:this.handle_open_lightbox,text:I18n.t("receipt.download.download")})),React.createElement("div",{className:"button_wrapper"},e,React.createElement(a.CommonButton,{className:"outline_btn",href:this.props.document.url,text:I18n.t("receipt.download.view_document")}))}},{key:"render_header",value:function(){if(this.props.in_modal)return null;var e=this.state.downloaded?I18n.t("receipt.download.your_download_has_started"):I18n.t("receipt.download.welcome_to_scribd_this_props_name",{this_props_name:this.props.name});return React.createElement("h1",{tabIndex:"-1",className:"header",ref:function(e){return Scribd.header_ref=e}},e)}},{key:"render_title",value:function(){var e=this.props.document.title,t=this.props.in_modal?"h3":"h2";return this.props.in_modal&&this.state.downloaded&&(e=I18n.t("receipt.download.your_download_has_started")),React.createElement(t,{className:"download_title"},e)}},{key:"render_download_iframe",value:function(){var e=this;return this.state.downloaded?React.createElement("iframe",{ref:function(t){return e.iframe_ref=t},width:"1",height:"1",frameborder:"0",style:{display:"none"},src:this.get_download_url()}):null}},{key:"render_content",value:function(){var e=this.props.document,t=(e.title,e.image_url),n=e.retina_image_url;return React.createElement("div",{className:classNames("download_module_wrapper",{in_modal:this.props.in_modal})},this.render_header(),this.render_download_iframe(),React.createElement("div",{className:"download_wrapper"},React.createElement("a",{className:"document_link",href:this.props.document.url},React.createElement("img",{className:"document",src:t,alt:I18n.t("receipt.download.document"),srcSet:n+" 2x"})),React.createElement("div",{className:"content_wrapper"},this.render_title(),this.render_subtitle(),this.render_selection(),this.render_buttons())))}}]),t}(Scribd.Shared.BaseComponent);l.propTypes={document:c.shape({title:c.string,url:c.string,author:c.shape({name:c.string,url:c.string}),image_url:c.string,retina_image_url:c.string,access_key:c.string,download_url:c.string,download_modal_url:c.string,id:c.number,formats:c.arrayOf(c.shape({extension:c.string,filesize:c.string}))}).isRequired,format:c.string,name:c.string,in_modal:c.bool,bucket:c.string,receipt_url:c.string},t.default=l,Scribd.addComponent("Receipt.Download",l)}},[6]),(Scribd.translations=Scribd.translations||[]).push({en_US:{receipt:{download:{uploaded_by:"Uploaded by",having_trouble_downloading:"Having trouble downloading?",try_again:"Try again",download_format_extension_touppercase_format_filesize:"Download %{format_extension_touppercase} (%{format_filesize})",choose_document_format_type:"Choose document format type:",download:"Download",view_document:"View Document",your_download_has_started:"Your download has started.",welcome_to_scribd_this_props_name:"Welcome to Scribd, %{this_props_name}!",document:"Document"}}}});


/* app/views/receipt/features.jsxjs @ 1520375242 */
webpackJsonp([67],{7:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=React.PropTypes,a=function(e){function t(e){n(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.enclosing_class="autogen_class_views_receipt_features autogen_class_widgets_jsx autogen_class_widgets_react autogen_class_widgets_base",r}return r(t,e),o(t,[{key:"render_subtitle",value:function(e){return e.dangerous?React.createElement("span",{className:"item_subtitle",dangerouslySetInnerHTML:{__html:e.subtitle}}):React.createElement("span",{className:"item_subtitle"},e.subtitle)}},{key:"render_item",value:function(e,t){return React.createElement("li",{className:"item",key:t},React.createElement("div",{className:"image_wrapper"},React.createElement("img",{src:this.image_url(e.image),alt:"",role:"presentation"})),React.createElement("div",null,React.createElement("strong",{className:"item_title"},e.title),this.render_subtitle(e)))}},{key:"render_list",value:function(){var e=[{image:"receipt/gr_travel_sp.svg",title:I18n.t("receipt.features.store_favorites_offline"),subtitle:I18n.t("receipt.features.learn_on_the_go_even_without")},{image:"receipt/gr_welcome-explore_sp.svg",title:I18n.t("receipt.features.discover_new_favorites"),subtitle:I18n.t("receipt.features.read_bestsellers_award_winners_and_recommendations")},{image:"receipt/gr_iosweb_sp.svg",title:I18n.t("receipt.features.read_on_any_device"),subtitle:I18n.t("receipt.features.experience_with_the_scribd_app_on_html",{this_props_android_app_link:this.props.android_app_link,this_props_ios_app_link:this.props.ios_app_link}),dangerous:!0}];return React.createElement("ul",{className:"features_list"},e.map(this.render_item))}},{key:"render_content",value:function(){var e=this.props.is_modal?null:React.createElement("h2",{className:"features_title"},I18n.t("receipt.features.what_can_you_do_with_scribd"));return React.createElement("div",{className:classNames("features_wrapper",{is_modal:this.props.is_modal})},e,this.render_list())}}]),t}(Scribd.Shared.BaseComponent);a.propTypes={is_modal:s.bool,ios_app_link:s.string,android_app_link:s.string},t.default=a,Scribd.addComponent("Receipt.Features",a)}},[7]),(Scribd.translations=Scribd.translations||[]).push({en_US:{receipt:{features:{store_favorites_offline:"Store favorites offline",learn_on_the_go_even_without:"Learn on the go, even without an internet connection",read_on_any_device:"Read on any device",experience_with_the_scribd_app_on_html:'Experience with the Scribd app on <a href="%{this_props_android_app_link}">Android</a> or <a href="%{this_props_ios_app_link}">iOS</a>',what_can_you_do_with_scribd:"What can you do with Scribd?",discover_new_favorites:"Discover new favorites",read_bestsellers_award_winners_and_recommendations:"Read bestsellers, award winners, and recommendations just for you"}}}});


/* app/views/shared/reading_progress/base.coffee @ 1520375044 */
(function(){Scribd.ReadingProgress={external_progress_notice_seen:!1},Scribd.ReadingProgress.Base=function(){function e(e){var t,n,i,r;this.opts=null!=e?e:{},this.enabled()&&(this.notify_external_progress(null!=(t=Scribd.current_doc)?t.reading_progress:void 0),this.opts=_.extend(this.default_opts(),this.opts),this.get_ms=(null!=(n=Scribd.ServerOptions)?n.reading_progress_throttle_get_milliseconds:void 0)||this.opts.throttle_get,this.post_ms=(null!=(i=Scribd.ServerOptions)?i.reading_progress_throttle_post_milliseconds:void 0)||this.opts.throttle_post,this.url=null!=(r=Scribd.current_doc.reading_progress)?r.update_url:void 0,this.doc_id=Scribd.current_doc.id,this.offset=null,this.offset_type=null,this.percentage=null,this.credit_redeemed=!Scribd.current_doc.is_credit_restricted,this.is_preview=this.opts.preview_restricted,this.throttled_get_handler=_.throttle(function(e){return function(){return e.get()}}(this),this.get_ms,{leading:!0,trailing:!1}),this.throttled_post_handler=_.throttle(function(e){return function(){return e.post()}}(this),this.post_ms,{leading:!1,trailing:!0}),$(window).off(this.events.focus).on(this.events.focus,this.throttled_get_handler),this.setup_active_tab_handler())}return e.prototype.events={focus:"focus.reading_progress",scroll:"scroll.reading_progress"},e.prototype.default_opts=function(){return{throttle_get:6e4,throttle_post:1e4}},e.prototype.enabled=function(){var e;return(null!=(e=Scribd.ServerOptions)?e.reading_progress_enabled:void 0)&&Scribd.logged_in?!0:!1},e.prototype.has_external_progress=function(e){return(null!=e?e.offset:void 0)?e.from_current_device?!1:"browser"===e.device_name?!1:!0:!1},e.prototype.external_progress_notification_message=function(e){return I18n.t("shared.reading_progress.base.we_ve_moved_you_to_where_you",{progress_device_name:e.device_name})},e.prototype.notify_external_progress=function(e){var t;return this.has_external_progress(e)&&!Scribd.ReadingProgress.external_progress_notice_seen?(Scribd.ReadingProgress.external_progress_notice_seen=!0,this.create_flash_notice(this.external_progress_notification_message(e)),t=Scribd.current_doc.is_sheet_music?"sheet music":"book",$(document.body).track_rats("reading_progress:progress_moved:show",{doc_id:Scribd.current_doc.id,destination_offset:e.offset,offset_type:e.offset_type,document_type:t})):void 0},e.prototype.create_flash_notice=function(e){return Scribd.Flasher.standard("notice",e)},e.prototype.update_external_progress=function(e){return this.has_external_progress(e)?$(window).trigger("scribd:external_reading_progress",e):void 0},e.prototype.check_credit_threshold=function(){},e.prototype.needs_credit_spend=function(e){var t;return t={credit_redeemed:this.credit_redeemed,is_preview:this.is_preview,credit_restricted:Scribd.current_doc.is_credit_restricted},!this.is_preview&&Scribd.current_user&&!this.credit_redeemed&&Scribd.current_doc.is_credit_restricted?this.check_credit_threshold(e):void 0},e.prototype.pause_time=function(){return this.time_elapsed=this.time_elapsed+(Date.now()-this.start_session)},e.prototype.restart_time=function(){return this.start_session=Date.now()},e.prototype.reset_counters=function(){return this.time_elapsed=0,this.start_session=Date.now()},e.prototype.calc_time_elapsed=function(){return this.time_elapsed=this.time_elapsed+(Date.now()-this.start_session),this.time_elapsed},e.prototype.setup_active_tab_handler=function(){var e,t,n,i,r,o,s;i={hidden:"",mozHidden:"moz",msHidden:"ms",webkitHidden:"webkit"},r=[];for(n in i)o=i[n],"undefined"!==document[n]&&(t=n,s=o+"visibilitychange"),"undefined"!=typeof document.addEventListener&&"undefined"!=typeof document[t]?(e=function(e){return function(){return document[t]?e.pause_time():e.restart_time()}}(this),r.push(document.addEventListener(s,e,!1))):r.push(void 0);return r},e.prototype.get=function(){return this.calc_time_elapsed()>0?this.post(!0):this.get_progress()},e.prototype.get_progress=function(){return $.get(this.url,{doc_id:this.doc_id},function(e){return function(t){return e.update_external_progress(t.progress),e.reset_counters()}}(this))},e.prototype.post=function(e){var t,n;return null==e&&(e=!1),n={doc_id:this.doc_id,time_in_millis:this.calc_time_elapsed()},this.updated&&(n=_.extend({},n,{offset:this.offset,offset_type:this.offset_type,percentage:this.percentage,updated:this.updated})),t=Scribd.CSRF.with_token(n),$.post(this.url,t).done(function(t){return function(n){return t.update_external_progress(n.progress),t.reset_counters(),t.updated=!1,e?t.get():n.user?t.needs_credit_spend(n):window.location=t.opts.preview_url}}(this)).fail(function(){return function(){}}(this))},e.prototype.spend_a_credit=function(){return $.post(this.opts.pmp_document_purchases_url,{doc_id:this.doc_id}).done(function(e){return function(){return e.credit_redeemed=!0}}(this)).fail(function(){return function(e){return 422===e.status||e.error?$(document.body).trigger("reading_progress:past_preview_lightbox:show"):void 0}}(this))},e}()}).call(this),(Scribd.translations=Scribd.translations||[]).push({en_US:{shared:{reading_progress:{base:{we_ve_moved_you_to_where_you:"We've moved you to where you read on your %{progress_device_name}"}}}}});


/* app/views/pdfs/_sidebar.coffee @ 1520375044 */
(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Scribd.PdfsSidebar=function(){function t(t,n){null==n&&(n={}),this.track_interests=e(this.track_interests,this),this.container=$(t),this.track_interests(),this.container.dispatch("click",{toggle_details_btn:function(e){return function(){return e.container.toggleClass("details_open"),docManager?(docManager._updatePageBoundingRects(),docManager._currentViewManager.checkAndUpdateVisiblePages()):void 0}}(this),interest_link:function(){return function(e){return $(document.body).track_rats("doc:interests:click",{interest:{id:e.data("category_id"),name:e.text()}}),"continue"}}(this),see_more_btn:function(e){return function(){return $(document.body).track_rats("doc:more_information_button:click",{action:"show"}),Scribd.Lightbox.open_react("description_lightbox",Scribd.R.Pdfs.Lightboxes.DescriptionLightbox({description_content:e.container.find(".full_description").html()}))}}(this)})}return t.prototype.track_interests=function(){var e,t;return t=function(){var t,n,i,r;for(i=this.container.find(".interest_link"),r=[],t=0,n=i.length;n>t;t++)e=i[t],e=$(e),r.push({id:e.data("category_id"),name:e.text()});return r}.call(this),t.length?$(document.body).track_rats("doc:interests:show",{interests:t}):void 0},t}()}).call(this),(Scribd.translations=Scribd.translations||[]).push({en_US:{pdfs:{sidebar:{download:"Download",resume:"Resume",read_all:"Read all",buy_paid_document_price_currency:"Buy %{paid_document_price_currency}",edit_document:"Edit document",by:"by",embed:"Embed",read_anywhere_with_the_scribd_app:"Read anywhere with the Scribd app",description:"Description:",read_on_scribd_mobile:"Read on Scribd mobile:",iphone:"iPhone",ipad:"iPad",and:"and",android:"Android",copyright:"Copyright:",list_price:"List price:",flag_for_inappropriate_content:"Flag for inappropriate content",show_more:"Show more",more_information:"More information",show_less:"Show less",interests:"Interests:",view:"view",strong_download_strong_as_available_extensions_map_upcase_join_or_read_online:"<strong>Download</strong> as %{available_extensions_map_upcase_join} or read online from Scribd",related_interests:"Related interests",download_with_free_trial:"Download With Free Trial",download_this_document:"Download This Document",isbn:"ISBN:",written_by:"Written by",uploaded_by:"Uploaded by",on:"on",view_more:"View More",related_interests_:"Related Interests",rating_and_stats:"Rating and Stats",document_actions:"Document Actions",share_or_embed_document:"Share or Embed Document",recommended_documents:"Recommended Documents"}}}});


/* app/views/pdfs/_document_details.coffee @ 1520375044 */
(function(){}).call(this),(Scribd.translations=Scribd.translations||[]).push({en_US:{pdfs:{document_details:{more_info:"More info",less_info:"Less info"}}}});


/* app/views/pdfs/errors/deleted.coffee @ 1520375044 */
(function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Scribd.PdfsDeleted=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.fit_to_width(),Scribd.hook_tooltips(this.container),this.container.find("[data-default_text]").placeholder_text(),new Scribd.UI.FilteredDocumentPage(this.container)}return e(n,t),n}(Scribd.UI.ObjectGrid)}).call(this),(Scribd.translations=Scribd.translations||[]).push({en_US:{pdfs:{errors:{deleted:{notice:"Notice",your_document_was_successfully_expired:"Your document was successfully expired.",go_to_uploads_187:"Go to Uploads &#187;",why:"Why?",your_document_was_successfully_deleted:"Your document was successfully deleted.",this_document_has_been_removed_from:"This document has been removed from Scribd.",reading_suggestions:"Reading suggestions",the_document_strong_document_title_strong_is_no_longer_html:"The document <strong>%{document_title}</strong> is no longer available on Scribd.",the_document_strong_document_title_strong_has_been_deleted_html:"The document <strong>%{document_title}</strong> has been deleted.",the_document_strong_document_title_strong_has_been_automatically:"The document <strong>%{document_title}</strong> has been automatically removed by <a href='%{bookid_url}'>BookID</a>, Scribd\u2019s copyright protection system.",like_all_automated_systems_bookid_sometimes:"Like all automated systems, BookID sometimes makes mistakes. If you believe this document is not infringing and was removed in error, please contact <a href='mailto:copyright@scribd.com'>copyright@scribd.com</a>.",please_see_scribd_s_a_href_copyright_url_copyright_resource:"Please see Scribd's <a href='%{copyright_url}'>Copyright Resource Center</a> to learn more."}}}}});


/* app/views/pdfs/errors/unconverted.coffee @ 1520375044 */
(function(){Scribd.UnconvertedDocument=function(){function e(e){this.container=$(e),this.container.dispatch("click",{download_btn:function(){return function(e){var t,n;return n=e.data("download_url"),t=e.data("document_id"),Scribd.Lightbox.show_loading(),Scribd.download_actions.download(t,"read","unconverted pdf",function(){return $.post(n).done(function(e){return e.props.download_url=n,Scribd.download_actions.render_lightbox(e.props,e.show_receipt_lightbox)})})}}(this)})}return e}()}).call(this),(Scribd.translations=Scribd.translations||[]).push({en_US:{pdfs:{errors:{unconverted:{this_document_is_being_prepared:"This document is being prepared",the_scribd_version_of_this_document:"The Scribd version of this document is currently being processed, and will be available shortly.",ahead_of_this_document_in_the:" ahead of this document in the queue.)",we_could_not_convert_this_document:"We could not convert this document",we_re_unable_to_display_this_document:"We're unable to display this document and there are no formats available for download.",download_to_view_this_document:"Download to view this document",we_re_unable_to_display_this_document_:"We're unable to display this document. To view it, download it in its original format.",formats_available_document_currently_downloadable_extensions_join_upcase:"Formats available: %{document_currently_downloadable_extensions_join_upcase}",download:"Download"}}}}});


/* app/views/pdfs/lightboxes/_description_lightbox.coffee @ 1520375044 */
(function(){var e,t,n,i,r;i=React.DOM,n=i.h2,t=i.div,e=Scribd.R.component_builder("Pdfs.Lightboxes.DescriptionLightbox",{css_class:"autogen_class_views_pdfs_lightboxes_description_lightbox"}),r=React.PropTypes,e({propTypes:{description_content:r.string},enclosing_element_type:function(){return Scribd.R.Shared.Lightbox},componentDidMount:function(){return this.container().dispatch("click",{flag_document_btn:function(){return function(e){return Scribd.pdfs_show.flag_document(e.data("lightbox_url"))}}(this)})},render:function(){return[n({className:"title"},I18n.t("pdfs.lightboxes.description_lightbox.description")),t({className:"content_inner",dangerouslySetInnerHTML:{__html:this.props.description_content}})]}})}).call(this),(Scribd.translations=Scribd.translations||[]).push({en_US:{pdfs:{lightboxes:{description_lightbox:{description:"Description"}}}}});


/* app/views/pdfs/lightboxes/_download_lightbox.coffee @ 1520375044 */
(function(){var e,t,n,i,r,o,s,a,c;s=React.DOM,o=s.p,i=s.em,n=s.div,a=s.span,r=s.h2,e=s.a,t=Scribd.R.component_builder("Pdfs.Lightboxes.DownloadLightbox",{css_class:"autogen_class_views_pdfs_lightboxes_download_lightbox",track_category:"download_dialog"}),c=React.PropTypes,t({propTypes:{show_paywall:c.bool,archive_url:c.string,base_url:c.string,recommendation_html:c.string,download_url:c.string,download_callback:c.func,document:c.shape({secret_password:c.string}).isRequired,filename:c.string.isRequired,formats:c.arrayOf(c.shape({extension:c.string,filesize:c.string})).isRequired,bucket:c.string,receipt_url:c.string,compilation_id:c.string,module_id:c.string},enclosing_element_type:function(){return function(e){return function(t){return Scribd.R.Shared.Lightbox($.extend({title:e.state.download_started?void 0:I18n.t("pdfs.lightboxes.download_lightbox.download_document")},t))}}(this)},getInitialState:function(){var e;return{selected_extension:null!=(e=this.props.formats[0])?e.extension:void 0,formats:this.props.formats,download_started:!1,nag:this.props.nag}},componentLightboxShow:function(){return this.setState({download_started:!1})},componentDidMount:function(){return this.container().on("Scribd:lightbox:closed",function(){return function(){return $(document.body).track_rats("doc:download_modal:hide")}}(this))},componentDidUpdate:function(e,t){return this.tracking_module||t.download_started||!this.state.download_started?void 0:(this.tracking_module=new Scribd.RecommendationTracking.Module(this.container(),{compilation_id:this.props.compilation_id,widget_name:"download_lightbox",module_id:this.props.module_id,on_in_view:function(e){return function(){return e.check_items_inview()}}(this)}),this.check_items_inview())},widget_css_classes:function(e){return classNames(e,"lightbox auto_center",{download_started:this.state.download_started})},check_items_inview:function(){var e,t,n,i,r,o,s;for(o=this.container().find(".object_cell[data-object_id]"),s=[],n=t=0,i=o.length;i>t;n=++t)e=o[n],e=$(e),e.is(".visibility_tracked")||(r=e.closest("[data-track_uuid]").data("track_uuid"),Scribd.RecommendationTracking.track_obj_view(this.tracking.view_id,r),s.push(e.addClass("visibility_tracked")));return s},do_download:function(){var e;return $(document.body).track_rats("doc:final_download_button:click",{format:this.state.selected_extension}),this.props.download_callback?void this.props.download_callback(this.state.selected_extension):["front_load","delayed_intro"].includes(this.props.bucket)?void(window.location=this.props.receipt_url+"/?"+$.param({format:this.state.selected_extension})):(e=this.props.show_paywall?this.props.archive_url:this.props.base_url+"/?"+$.param({secret_password:this.props.document.secret_password,extension:this.state.selected_extension}),setTimeout(function(){return window.location=e},200),this.setState({download_started:!0}))},render:function(){var e;return(null!=(e=this.state.nag)?e.paused:void 0)?this.render_paused():this.state.download_started?this.render_after_download():this.render_downloader()},render_paused:function(){return[o({children:[I18n.t("pdfs.lightboxes.download_lightbox.your_membership_is_currently_paused_until",{state_nag_next_payment_due:this.state.nag.next_payment_due})+" ",i({},this.props.document.title),"?"]}),n({className:"buttons",children:[this.common_button({className:classNames({disabled:this.state.loading}),disabled:this.state.loading,onClick:function(e){return function(t){return t.preventDefault(),e.setState({loading:!0}),e.unpause_account()}}(this)},I18n.t(this.state.loading?"pdfs.lightboxes.download_lightbox.resuming":"pdfs.lightboxes.download_lightbox.resume_membership"))]})]},unpause_account:function(){return $.getJSON(this.state.nag.fix_url).fail(function(e){return function(){return window.location=e.state.nag.fix_url}}(this)).done(function(e){return function(){return $(document.body).trigger("scribd:unpause_account"),$.post(e.props.download_url).done(function(t){var n;return e.setState({nag:null,loading:!1,just_resumed:!0,selected_extension:null!=(n=t.props.formats[0])?n.extension:void 0,formats:t.props.formats})})}}(this))},render_downloader:function(){return[this.state.just_resumed?o({},I18n.t("pdfs.lightboxes.download_lightbox.your_membership_has_been_resumed")):void 0,this.render_current_format(),this.render_format_picker(),n({className:"buttons"},this.common_button({onClick:this.do_download},I18n.t("pdfs.lightboxes.download_lightbox.download_current_format_extension",{current_format_extension:this.current_format().extension})))]},current_format:function(){return _.find(this.state.formats,function(e){return function(t){return t.extension===e.state.selected_extension}}(this))},render_current_format:function(){var e;return e=this.current_format(),n({className:"document_data",children:[n({className:"data_row file_name",children:[a({className:"data_value"},this.props.filename+"."+e.extension)]}),n({className:"data_row",children:[a({className:"data_value"},e.filesize)]})]})},render_format_picker:function(){return 1!==this.state.formats.length?React.createElement(Scribd.Shared.React.Forms.InputGroup,{className:"format_picker",children:this.state.formats.map(function(e){return function(t){return React.createElement(Scribd.Shared.React.Forms.Radio,{name:"download_extension",label_text:" "+t.extension.toUpperCase(),selected:t.extension===e.state.selected_extension,value:t.extension,onChange:function(){return e.setState({selected_extension:t.extension})}})}}(this))}):void 0},render_after_download:function(){return[r({className:"title",children:[I18n.t("pdfs.lightboxes.download_lightbox.your_download_has_started_")]}),n({className:"secondary_message",children:[I18n.t("pdfs.lightboxes.download_lightbox.having_trouble_downloading")+" ",e({href:"javascript:void(0)",onClick:function(e){return function(){return e.setState({download_started:!1})}}(this)},I18n.t("pdfs.lightboxes.download_lightbox.try_again"))]}),this.props.recommendation_html?n({key:"recommendations",className:"rec_wrapper",dangerouslySetInnerHTML:{__html:this.props.recommendation_html}}):void 0]}})}).call(this),(Scribd.translations=Scribd.translations||[]).push({en_US:{pdfs:{lightboxes:{download_lightbox:{download_document:"Download document",your_membership_is_currently_paused_until:"Your membership is currently paused until %{state_nag_next_payment_due}. Would you like to resume your membership now to download",no_thanks:"No Thanks",resuming:"Resuming",resume_membership:"Resume Membership",your_membership_has_been_resumed:"Your membership has been resumed.",download_current_format_extension:"Download %{current_format_extension}",your_download_has_started_:"Your download has started",having_trouble_downloading:"Having trouble downloading?",try_again:"Try again",similar_to_document_pretty_title_:"Similar to %{document_pretty_title}",check_out_more_from:"Check out more from"}}}}});


/* app/views/pdfs/lightboxes/embed_lightbox.coffee @ 1520375044 */
(function(){Scribd.UI||(Scribd.UI={}),Scribd.UI.CustomSize=function(){function e(e,t,n){_.bindAll(this,"values","has_values","updater_for"),this.embed_ui=e,this.container=$(t),this.book_mode=!1,this.options=_.extend({min_width:400,min_height:300,aspect_ratio:.75},n||{}),this.lock_aspect_ratio=!0,this.width_input=this.container.find(".custom_width"),this.height_input=this.container.find(".custom_height"),this.update_from_width=this.updater_for("width"),this.update_from_height=this.updater_for("height"),this.width_input.on("change",this.update_from_width),this.height_input.on("change",this.update_from_height),this.lock_button=this.container.find(".lock_button"),this.lock_button.on("click",function(e){return function(){return e.lock_button.toggleClass("unlocked"),e.lock_aspect_ratio=!e.lock_aspect_ratio,e.lock_aspect_ratio&&0===!e.width_input.val().length?e.update_from_width():void 0}}(this))}return e.prototype.values=function(){return[parseInt(this.width_input.val(),10),parseInt(this.height_input.val(),10)]},e.prototype.has_values=function(){return 0===!this.width_input.val().length&&0===!this.height_input.val().length},e.prototype.updater_for=function(e){var t,n,i,r,o,s;return r="width"===e?"height":"width",t=this.options.aspect_ratio,"height"===e&&(t=1/t),n=this[e+"_input"],o=this[r+"_input"],i="min_"+e,s="min_"+r,function(a){return function(){var c,l;if(0!==n.val().length)return a.book_mode&&(t=1/t),l=parseInt(n.val(),10),l<a.options[i]&&(l=a.options[i],n.val(l)),c=void 0,a.lock_aspect_ratio||0===o.val().length?(c=Math.max(Math.floor(l/t),a.options[s]),o.val(c)):c=a.embed_ui.custom_options[r],"width"===e?a.embed_ui.set_size(l,c):a.embed_ui.set_size(c,l)}}(this)},e}(),Scribd.UI.EmbedDialog=function(){function e(e){var t;_.bindAll(this,"set_size","update_format","update_code","toggle_sizes","flash","setup_copy_link"),this.container=$(e),this.document=this.container.data("document"),(t=this.document).aspect_ratio||(t.aspect_ratio=.75),this.options={num_pages:this.document.page_count,aspect_ratio:this.document.aspect_ratio,doc_url:this.document.url,title:this.document.title,user_url:this.document.word_user.url,user_title:this.document.word_user.name,doc_id:this.document.id,doc_title:this.document.title,access_key:this.document.access_key,secret_password:this.document.secret_password},this.input=this.container.find(".code_input"),this.preview_container=this.container.find(".doc_preview"),this.custom_options={},this.generators={html:new Scribd.Embed.HTML5CodeGenerator(_.clone(this.options)),wordpress:new Scribd.Embed.WordpressCodeGenerator(_.clone(this.options))},this.starting_page=this.container.find(".misc_options .starting_page"),this.container.find(".custom_size input").add(this.starting_page).restrict_numeric({allow_period:!1}),this.custom_size=new Scribd.UI.CustomSize(this,this.container.find(".custom_size")),this.starting_page.on("change",function(e){return function(){var t,n;return n=0===e.starting_page.val().length?1:parseInt(e.starting_page.val(),10),t=e.options.num_pages,null!==t&&0!==t&&n>t&&(n=t,e.starting_page.val(n)),e.custom_options.page=n,e.update_code()}}(this)),this.container.on("change",".view_style",function(e){return function(t){var n;return n=$(t.currentTarget).val(),e.custom_options.mode=n,e.update_code()}}(this)),this.input.select_on_focus(),this.container.find(".include_link_input").on("change",function(e){return function(t){return e.custom_options.show_title=$(t.target).prop("checked"),e.update_code(),!0}}(this)),this.container.find(".include_recommendations_input").on("change",function(e){return function(t){return e.custom_options.show_recommendations=$(t.target).prop("checked"),e.update_code(),!0}}(this)),this.container.on("click",".close",function(){return function(){return Scribd.Lightbox.close()}}(this)),this.container.on("change",".format_container",function(e){return function(t){return e.update_format($(t.target).val())}}(this)),this.container.on("change",".size_picker",function(e){return function(t){var n,i,r,o,s;return $(t.currentTarget).find("label").removeClass("active"),i=$(t.target),i.closest("label").addClass("active"),o=i.val(),o?(s=null,n=null,r=o.match(/(\d+)x(\d+)/),r&&(s=r[1],n=r[2]),e.set_size(s,n)):e.custom_size.has_values()?e.set_size.apply(e,e.custom_size.values()):void 0}}(this)),this.update_format("html"),this.setup_copy_link()}return e.prototype.set_size=function(e,t){return e!==this.custom_options.width||t!==this.custom_options.height?(this.custom_options.width=e,this.custom_options.height=t,this.custom_options.auto_width=!e,this.custom_options.auto_height=!t,this.update_code()):void 0},e.prototype.update_format=function(e){return this.current_format=e,this.update_code()},e.prototype.update_code=function(e){var t;return"book"===this.custom_options.mode?this.showing_book||(this.showing_book=!0,this.custom_size.book_mode=!0,this.toggle_sizes()):this.showing_book&&(this.showing_book=!1,this.custom_size.book_mode=!1,this.toggle_sizes()),this.input.val(this.generators[this.current_format].render(this.custom_options)),t=this.generators.html.render(),this.preview_container.show().html(t),_.defer(function(e){return function(){var t;return e.custom_options.auto_height&&e.custom_options.auto_width?(t={width:e.preview_container.width(),height:e.preview_container.height()},e.preview_container.find(".scribd_iframe_embed").css(t)):void 0}}(this)),e?void 0:this.flash()},e.prototype.toggle_sizes=function(){return $(".size_picker:first").children().toggleClass("hidden"),$(".custom_size:first").removeClass("hidden")},e.prototype.flash=function(){var e;return e=this.container.find(".tab_bodies input").flash()},e.prototype.setup_copy_link=function(){var e,t,n,i;return e=this.container.find(".copy_link"),i=e.find(".document_url_input"),t=e.find("form"),i.on("click",function(){return function(){return i[0].select()}}(this)),("undefined"!=typeof docManager&&null!==docManager?docManager.firstVisiblePage:void 0)||e.find(".position_picker").remove(),n=function(e){return function(){var n,r,o,s,a,c,l,u,d;for(s={},c=t.serializeArray(),n=0,r=c.length;r>n;n++)l=c[n],o=l.name,d=l.value,s[o]=d;return a={},"current"===s.doc_position&&(a.page=docManager.firstVisiblePage.pageNum),s.fullscreen&&(a.fullscreen=1),u=e.options.doc_url,$.isEmptyObject(a)||(u+="#"+$.param(a)),i.val(u)}}(this),t.on("change",function(){return function(){return n()}}(this)),n()},e}()}).call(this),(Scribd.translations=Scribd.translations||[]).push({en_US:{pdfs:{lightboxes:{embed_lightbox:{custom:"Custom",width:"Width: ",height:"Height: ",select:"Select",slideshow:"Slideshow",scroll:"Scroll",include_link:"Include link",include_recommendations:"Include Recommendations",embed:"Embed",embed_this_in_your_website:"Embed this in your website",sup_sup_the_code_will_be_updated:"<sup>*</sup> The code will be updated based on your changes.",format:"Format",customize_for:"Customize for:",html:"HTML",wordpress:"Wordpress",size:"Size",options:"Options",copy_link:"Copy Link",beginning_of_document:"Beginning of document",current_page:"Current page",fullscreen:"Fullscreen",start_at_page:"Start at page:",style:"Style:",autosize:"Autosize",embed_document:"Embed Document",generate_a_link:"Generate a Link",customization_options_available_below:"Customization options available below",preview:"Preview",link_options:"Link Options",link_to_the:"Link to the"}}}}});


/* app/views/pdfs/lightboxes/flag_doc_lightbox.coffee @ 1520375044 */
(function(){Scribd.FlagDocDialog=function(){function e(e){this.container=$(e).on("submit",function(e){return function(){return e.container.addClass("loading")}}(this)).on("ajax:complete",function(e){return function(){return e.container.removeClass("loading"),Scribd.Lightbox.close()}}(this)),this.container.find(".submit_btn").first().on("keypress",function(e){return function(t){return 13===t.which?e.trigger_submit():void 0}}(this)).on("click",this.trigger_submit)}return e.prototype.trigger_submit=function(){return $(".flag_doc_form").first().submit()},e}()}).call(this),(Scribd.translations=Scribd.translations||[]).push({en_US:{pdfs:{lightboxes:{flag_doc_lightbox:{flag_this_document:"Flag for inappropriate content",please_tell_us_reason_s_for_reporting:"Please tell us reason(s) for reporting this document",cancel:"Cancel",submit:"Submit",if_you_are_the_copyright_owner_html:"If you are the copyright owner of this document and want to report it, please visit the <a href='%{faq_urls_copyright_infringement}'>copyright infringement notice</a> page to submit a report."}}}}});


/* app/views/pdfs/lightboxes/_flag_list.jsxjs @ 1520375242 */
webpackJsonp([71],{73:function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=React,o=r.PropTypes,s=function(r){function o(n){e(this,o);var i=t(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,n));i.enclosing_class="autogen_class_views_pdfs_lightboxes_flag_list autogen_class_widgets_jsx autogen_class_widgets_react autogen_class_widgets_base";var r={};return n.flags.forEach(function(e){return r[e[1]]=!1}),i.state={flagged:r},i}return n(o,r),i(o,[{key:"handle_checked",value:function(e,t){var n=this.state.flagged;n[e]=t.target.checked,this.setState({flagged:n})}},{key:"render_content",value:function(){var e=this,t=Scribd.Shared.React.Forms,n=t.InputGroup,i=t.Checkbox,r=this.props.flags.map(function(t,n){return React.createElement(i,{key:n,on_change:e.handle_checked.bind(e,t[1]),label_text:t[0],value:t[1],name:"flag["+t[1]+"]",selected:e.state.flagged[t[1]]})});return React.createElement(n,null,r)}}]),o}(Scribd.Shared.BaseComponent);s.propTypes={flags:o.arrayOf(o.arrayOf(o.string))},Scribd.addComponent("Pdfs.Lightboxes.FlagList",s)}},[73]);


/* app/views/pdfs/lightboxes/_print_lightbox.coffee @ 1520375044 */
(function(){var e,t,n,i,r;i=React.DOM,n=i.p,t=i.div,e=Scribd.R.component_builder("Pdfs.Lightboxes.PrintLightbox",{css_class:"autogen_class_views_pdfs_lightboxes_print_lightbox",track_category:"print_dialog"}),r=React.PropTypes,e({propTypes:{download_fn:r.func.isRequired},enclosing_element_type:function(){return function(){return function(e){return Scribd.R.Shared.Lightbox($.extend({title:I18n.t("pdfs.lightboxes.print_lightbox.print_document")},e))}}(this)},render:function(){return[n({},I18n.t("pdfs.lightboxes.print_lightbox.in_order_to_print_this_document_")),t({className:"actions"},this.common_button({className:"text_btn",onClick:function(){return Scribd.Lightbox.close()}},"Cancel"),this.common_button({className:"download_btn",onClick:this.props.download_fn},I18n.t("pdfs.lightboxes.print_lightbox.download_and_print")))]}})}).call(this),(Scribd.translations=Scribd.translations||[]).push({en_US:{pdfs:{lightboxes:{print_lightbox:{print_document:"Print document",in_order_to_print_this_document_:"In order to print this document from Scribd, you'll first need to download it.",download_and_print:"Download and print"}}}}});


/* app/views/pdfs/lightboxes/receipt_lightbox.jsxjs @ 1520375242 */
webpackJsonp([70],{74:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=React.PropTypes,a="receipt_lightbox:position",c=function(e){function t(e){n(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.enclosing_class="autogen_class_views_pdfs_lightboxes_receipt_lightbox autogen_class_views_receipt_app autogen_class_widgets_jsx autogen_class_widgets_react autogen_class_widgets_base",r.cookie_jar=new CookieJar,r.state={show_content_types:r.get_cookie()},r}return r(t,e),o(t,[{key:"componentDidMount",value:function(){this.container.addEventListener("keydown",this.handle_keydown)}},{key:"componentWillUnmount",value:function(){this.container.removeEventListener("keydown",this.handle_keydown)}},{key:"handle_keydown",value:function(e){e.which===Scribd.KeyMappings.esc&&Scribd.Lightbox.close()}},{key:"get_cookie",value:function(){if("boolean"==typeof Scribd.receipt_cookie)return Scribd.receipt_cookie;var e=this.cookie_jar.get(a);return Scribd.receipt_cookie="undefined"==typeof e||"true"===e,this.cookie_jar.put(a,!Scribd.receipt_cookie),Scribd.receipt_cookie}},{key:"get_title",value:function(){return I18n.t(this.props.just_signed_up?"pdfs.lightboxes.receipt_lightbox.welcome_to_scribd":"pdfs.lightboxes.receipt_lightbox.download_the_document")}},{key:"render_module",value:function(){var e=this.props,t=e.android_app_link,n=e.browse_urls,i=e.ios_app_link,r=e.unlimited,o=Scribd.Receipt,s=o.ContentTypes,a=(o.Download,o.Features);return this.state.show_content_types?React.createElement(s,{browse_urls:n,is_modal:!0,unlimited:r}):React.createElement(a,{is_modal:!0,android_app_link:t,ios_app_link:i})}},{key:"render_content",value:function(){var e=this.props,t=e.document,n=e.name,i=e.bucket,r=e.receipt_url,o=e.just_signed_up,s=Scribd.Receipt.Download,a=this.render_module(),c=React.createElement("div",{className:classNames("",{just_signed_up:o})},React.createElement("div",{className:"receipt_wrapper"},o?a:null,React.createElement(s,{document:t,name:n,in_modal:!0,bucket:i,receipt_url:r}),o?null:a));return Scribd.R.Shared.Lightbox({title:this.get_title(),children:c})}}]),t}(Scribd.Shared.BaseComponent);c.propTypes={android_app_link:s.string.isRequired,browse_urls:s.object.isRequired,document:s.shape({title:s.string,url:s.string,image_url:s.string,retina_image_url:s.string,access_key:s.string,download_url:s.string,download_modal_url:s.string,id:s.number}).isRequired,ios_app_link:s.string.isRequired,name:s.string,unlimited:s.bool.isRequired,bucket:s.string,receipt_url:s.string,just_signed_up:s.bool},c.defaultProps={just_signed_up:!1},t.default=c,Scribd.addComponent("Pdfs.Lightboxes.ReceiptLightbox",c)}},[74]),(Scribd.translations=Scribd.translations||[]).push({en_US:{pdfs:{lightboxes:{receipt_lightbox:{welcome_to_scribd:"Welcome to Scribd!",download_the_document:"Download the document"}}}}});


/* app/views/pdfs/promos/nyt_student_promo.coffee @ 1520375044 */
(function(){Scribd.NytStudentPromoPdf=function(){function e(e,t){this.opts=null!=t?t:{},this.container=$(e),this.container.dispatch("click",{close_btn:function(e){return function(){return e.close()}}(this),get_started_btn:function(e){return function(){return e.container.track_rats("nyt_student:sign_up_btn:click"),"continue"}}(this)})}return e.prototype.redirect_to_promo=function(){return window.location.href=this.opts.url},e.prototype.close=function(){return $(document).trigger("scribd:pdfs:nyt_student_promo_closed",this),this.container.trigger("close_promo_wrapper"),this.container.hide(),Scribd.current_user?$.ajax({type:"POST",url:this.opts.close_url,data:{id:this.opts.promo_id}}):void 0},e}()}).call(this);


/* app/views/pdfs/_seo_lightbox.coffee @ 1520375044 */
(function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Scribd.SeoLightbox=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.setup_carousel(this.container.find(".seo_images")),this.setup_events(),this.setup_signup()}return e(n,t),n.prototype.setup_carousel=function(e){var t;return e=$(e),t=$("<div class='scroller'></div>"),t.append(e.children().detach()),e.append(t)},n.prototype.setup_events=function(){return this.variation=Scribd.SeoShared.seo_variation(),this.container.attr("data-track_category","seo_lightbox:"+this.variation),this.container.dispatch("click",{close_button:function(e){return function(){return e.close()}}(this),start_trial_btn:function(e){return function(){return e.start_trail()}}(this)}),this.container.on("Scribd:lightbox:closed",function(e){return function(){return e.container.track({action:"close",label:"close"})}}(this)),this.container.on("Scribd:Facebook:login_success",function(e){return function(){return Scribd.Lightbox.open("login_successful_lb"),e.redirect_to_billing()}}(this)),this.container.on("scribd:signup_error:email_taken",function(e){return function(){return e.signup.find(".signup .input_error").text(I18n.t("pdfs.seo_lightbox.that_email_is_already_taken")),e.signup.find(".signup .email_input").addClass("input_err field_err")}}(this)),this.container.track({action:"show",label:"show"})},n.prototype.setup_signup=function(){return this.signup=this.container.find(".seo_signup"),0===this.signup.length?void(this.signup=null):(this.signup.html(this.signup.html().replace(/DocPromoOne/g,this.campaign())),new Scribd.LoginForms(this.signup),new Scribd.FacebookLoginButton(this.signup.find(".facebook_login_button")))},n.prototype.campaign=function(){switch(this.variation){case"control":case"new_control":return"DocPromoOne";case"new_basic":return"DocPromoTwo";case"new_doc_only_subscribe":return"DocPromoFour";case"new_doc_only_archive":return"DocPromoFive"}},n.prototype.redirect_to_subscribe=function(){var e,t,n,i;return e=this.campaign(),this.variation.match(/archive/)?(t=encodeURIComponent(JSON.stringify({page:"archive_plans",context:"archive",action:e,logged_in:Scribd.logged_in,platform:"web"})),window.open("/archive/plans?metadata="+t+"&doc="+(null!=(n=Scribd.current_doc)?n.id:void 0))):window.open("/subscribe?action="+e+"&doc_id="+(null!=(i=Scribd.current_doc)?i.id:void 0))},n.prototype.redirect_to_billing=function(){return window.location=this.signup.find('[name="login_params[next_url]"]').val()},n.prototype.show_signup=function(){return this.signup.addClass("open"),setTimeout(function(e){return function(){return e.signup.find(".signup .username_input").focus()}}(this),200)},n.prototype.start_trail=function(){return $(document.body).track_rats("doc:subscribe_button:click",{location:"lightbox"}),null!=this.signup?Scribd.logged_in?this.redirect_to_billing():this.show_signup():this.redirect_to_subscribe()},n}(Scribd.Lightbox)}).call(this),(Scribd.translations=Scribd.translations||[]).push({en_US:{pdfs:{seo_lightbox:{that_email_is_already_taken:"That email is already taken.",join_the_membership:"Join the membership",for_readers:"for readers",get_monthly_access_to_books_audiobooks:"Get monthly access to books, audiobooks, documents, <br />and more"}}}});


/* app/views/pdfs/show.coffee @ 1520375044 */
(function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(e,t){var n;return n=navigator.platform.match(/Mac/),$(document).keydown(function(){return function(i){return i.keyCode===e.charCodeAt(0)&&(n&&i.metaKey||!n&&i.ctrlKey)?t(i):void 0}}(this))},Scribd.PdfsShow=function(){function n(e,n){var i;this.opts=n,this.setup_inview_tracking=t(this.setup_inview_tracking,this),this.track_performance=t(this.track_performance,this),this.container=$(e),this.setup_events(),this.fullscreen=!1,this.document=$.extend(this.opts.document,{total_pages:this.get_highest_page()}),this.render(),this.setup_sharing(),window.docManager&&(this.highlighter=new Scribd.PdfHighlighter(this.container)),this.setup_sizing(),this.fetch_data(),this.setup_sticky_footer(),this.setup_seo_roadblock(),this.setup_embed_referral(),this.setup_print_detection(),this.setup_find_hotkey(),this.setup_buy_manager(),this.track_performance(),this.send_tracking(),this.setup_inview_tracking(),this.setup_fullscreen_btn(),this.setup_reading_progress(),this.setup_flash(),this.fix_ie_10_viewport(),this.setup_nyt_student_promo_banner(),Scribd.hook_tooltips(this.container.parent()),i=window.location.hash.match(/\bdownload\b/)||window.location.search.match(/\bdownload\b/),i&&Scribd.Lightbox.ready.done(function(e){return function(){return _.defer(function(){return e.download_document("url")})}}(this))}return n.min_zoom=.3,n.max_zoom=3,n.prototype.fix_ie_10_viewport=function(){var e;return e=$(".global_wrapper"),e.css("height","calc(100vh - "+(e.position().top+"px")+")")},n.prototype.add_space_for_non_dismissable_flashes=function(){var e,t;return e=this.container.find(".document_scroller"),e.css({marginTop:0}),$(document.body).hasClass("pdf_fullscreen")||$(document.body).hasClass("pdf_mobile")?(t=0,$(Scribd.Flasher.global_container()).find(".flash.non_dismissible").each(function(){return t+=$(this).height()}),e.css({marginTop:t})):void 0},n.prototype.setup_flash=function(){return $(document.body).on("scribd:standard_flash:animation_enter scribd:standard_flash:animation_leave",function(e){return function(){return e.add_space_for_non_dismissable_flashes(),e.fix_ie_10_viewport()}}(this))},n.prototype.track_performance=function(){return $(window).on("load",function(){return function(){return window.performance?_.defer(function(){var e,t,n;return e=performance.timing.domInteractive-performance.timing.navigationStart,t=performance.timing.loadEventEnd-performance.timing.navigationStart,n=performance.timing.loadEventEnd-performance.timing.responseEnd,$(document.body).track_rats("doc:performance",{dom_interactive:e,load_event_end:t,response_end:n})}):void 0}}(this))},n.prototype.setup_sizing=function(){var e,t,n;if(window.docManager)return e=this.container.find(".document_scroller"),n=$(window),t=60,this.update_page_width=function(i){return function(){var r,o;return t=n.width()<=600?30:60,r=i.fullscreen?1300:1e3,o=Math.min(r,e.width()-t),docManager.view_manager_deferred.then(function(){var e;return DocumentManager.scrollParent?"undefined"!=typeof docManager&&null!==docManager&&null!=(e=docManager._currentViewManager)?e._setWidth(o):void 0:(docManager._currentViewManager._currentPageWidth=o,docManager._currentViewManager._updatePageWidths())})}}(this),this.refresh_pages=function(e){return function(){return e.update_page_width(),setTimeout(function(){return docManager._updatePageBoundingRects(),docManager._currentViewManager.checkAndUpdateVisiblePages()},100)}}(this),this.update_page_width(),$(window).on("resize",_.debounce(function(e){return function(){return e.update_page_width()}}(this),20))},n.prototype.send_tracking=function(){return this.opts.pmp_data&&"function"==typeof $rat&&$rat("pmp_read",this.opts.pmp_data),"function"==typeof $rat&&$rat("doc_view_mode",{value:"doc_view_mode",doc_id:Scribd.current_doc.id}),"undefined"!=typeof $rat&&null!==$rat&&$rat.root().flushEvents(),this.opts.pingback_url?Scribd.send_pingback(this.opts.pingback_url):void 0},n.prototype.setup_inview_tracking=function(){var e,t,n,i;return e={".page_missing_explanation":"doc:read_full_version_link:show",".page_blur_promo":"doc:free_preview_blur_button:show"},i=function(t){return function(n){var i,r,o;r=[];for(o in e)if(n.closest(o).length&&(i=e[o])){delete e[o],$(document.body).track_rats(i,{doc_id:t.document.id});break}return r}}(this),n=this.container.find(".document_scroller"),t=_.throttle(function(r){return function(){var o,s,a,c,l,u,d,h,p;if($.isEmptyObject(e))return void n.off("scroll",t);if(h=function(){var e,t,n,i;for(n=this.container.find(".missing_page_buy_button"),i=[],e=0,t=n.length;t>e;e++)s=n[e],s=$(s),s.data("tracked")||i.push(s);return i}.call(r),h.length){for(p=n.offset().top,o=p+n.height(),d=[],l=0,u=h.length;u>l;l++)s=h[l],c=s.offset().top,a=c+s.height(),o>c&&a>p?(s.data("tracked",!0),d.push(i(s))):d.push(void 0);return d}}}(this),400),n.on("scroll",t)},n.prototype.fetch_data=function(){var e,t;return e=$(document.body),t=this.opts.data_url,_.isArray(t)&&(t=t.join("")),$.get(t).done(function(){return function(t){return e.toggleClass("buy_disabled",!!t.disabled_store_sale&&Scribd.current_doc.is_paid),e.toggleClass("pmp_disabled",!!t.disabled_pmp_sale&&Scribd.current_doc.is_pmp)}}(this))},n.prototype.setup_sticky_footer=function(){var e,t;return e=this.container.find(".document_footer"),e.length?(t=e.closest(".document_scroller"),t.on("scroll",function(){return function(){return e.css({marginLeft:t.scrollLeft()+"px"})}}(this))):void 0},n.prototype.setup_sharing=function(){var e,t,n,i,r,o;o=this.container.find(".sharing_buttons"),n=o.data("sharing_opts"),new Scribd.SharingButtons(o,n),r={"scribd:share:email":"doc:share_via_email_button:click","scribd:share:facebook":"doc:share_via_facebook_button:click","scribd:share:twitter":"doc:share_via_twitter_button:click","scribd:share:googleplus":"doc:share_via_googleplus_button:click","scribd:share:pinterest":"doc:share_via_pinterest_button:click","scribd:share:linkedin":"doc:share_via_linkedin_button:click"},t=function(e){return function(t,n){return e.container.on(t,function(){return $(document.body).track_rats(n)})}}(this);for(e in r)i=r[e],t(e,i);return this.container.dispatch("click",{embed_btn:function(){return function(e){return $(document.body).track_rats("doc:embed_button:click"),Scribd.Lightbox.remote_open("embed_dialog",e.data("lightbox_url"))}}(this),flag_document_btn:function(e){return function(t){return e.flag_document(t.data("lightbox_url"))}}(this)})},n.prototype.setup_find_hotkey=function(){return e("F",function(e){return function(){var t;return t=e.toolbar.container().find(".search_input"),t.length?(t.focus(),!1):void 0}}(this))},n.prototype.setup_print_detection=function(){var t;if(Scribd.current_doc.downloadable_for_premium_users)return"function"==typeof window.matchMedia&&window.matchMedia("print").addListener(_.debounce(function(e){return function(){return e.print_document()}}(this),3e3,!0)),t=window.onbeforeprint,window.onbeforeprint=function(e){return function(){return e.print_document(),"function"==typeof old_onbeforeprint&&old_onbeforeprint(),!1}}(this),e("P",function(e){return function(){return e.print_document(),!1}}(this))},n.prototype.get_highest_page=function(){var e,t,n;if(!window.docManager)return 0;if(e=null!=(n=Scribd.current_doc)?n.page_count:void 0,!e){e=0;for(t in docManager.pages)e=Math.max(e,t)}return e},n.prototype.render=function(){return window.docManager?(this.current_zoom=docManager._currentViewManager._currentZoomMultiplier,this.render_toolbar(),this.toggle_fullscreen()):void 0},n.prototype.toggle_fullscreen=function(){return this.container.toggleClass("fullscreen",this.fullscreen),$(document.body).toggleClass("pdf_fullscreen",this.fullscreen),this.add_space_for_non_dismissable_flashes()},n.prototype.render_toolbar=function(){return this.toolbar_drop||(this.toolbar_drop=this.container.find(".toolbar_drop")),this.toolbar=ReactDOM.render(Scribd.R.Pdfs.Toolbar({document:this.document,fullscreen:this.fullscreen||!1,mobile:!!this.opts.single_column,current_zoom:this.current_zoom,current_page:this.current_page||1,search_results:this.search_results,highlight_callback:function(e){return function(t,n){return e.highlighter.clear(),e.highlighter.highlight_from_results(t,n)}}(this)}),this.toolbar_drop[0])},n.prototype.setup_app_download_link_in_viewport_tracking=function(){return $(".download_app_promo_lightbox").one("inview",function(e,t){return t?$(this).track_rats("download_app_promo:text_link:view",{doc_id:Scribd.current_doc.id}):void 0})},n.prototype.setup_events=function(){var e,t,n,i;return this.setup_app_download_link_in_viewport_tracking(),e={},_.delay(function(e){return function(){return e.time_limit_past_for_upvote=!0}}(this),6e4),t=_.once(function(e){return function(){return $(document).trigger(e.opts.show_promo_banner&&null==e.opts.subscriber?"scribd:upvote_popover:show:above_banner":"scribd:upvote_popover:show")}}(this)),n=_.once(function(e){return function(){return $(document).trigger(e.opts.show_promo_banner&&null==e.opts.subscriber?"scribd:upvote_popover:show:above_banner":"scribd:upvote_popover:show")}}(this)),"undefined"!=typeof docManager&&null!==docManager&&docManager.addEvent("visiblePagesChanged",function(i){return function(r){var o,s,a,c,l,u,d,h;for(o=function(t){return setTimeout(function(){return e[t.pageNum]=!1},500)},d=[],a=0,c=r.length;c>a;a++)u=r[a],e[u.pageNum]||(e[u.pageNum]=!0,h=i.document.total_pages<=10&&u.pageNum===i.document.total_pages,l=i.document.total_pages>10&&u.pageNum>=5,s=i.document.total_pages>10&&u.pageNum===i.document.total_pages,(h||l)&&i.time_limit_past_for_upvote&&t(),s&&i.time_limit_past_for_upvote&&n(),o(u),d.push("function"==typeof $rat?$rat("doc:page:show",{page:u.pageNum,of:i.document.total_pages}):void 0));return d}}(this)),"undefined"!=typeof docManager&&null!==docManager&&docManager.addEvent("expectedFirstPageChanged",function(e){return function(t){var n;return e.current_page=t,e.render(),(n=e.going_to_page)?(delete e.going_to_page,n.to_page=""+t,$(document.body).track_rats("doc:pager:engage",n)):void 0}}(this)),this.container.on("click",".trial_learn_more_btn",function(){return function(){$(document.body).track_rats("doc:subscribe_button:click",{location:"top bar banner"})}}(this)),this.container.dispatch("click",{floating_fullscreen_btn:function(e){return function(){return e.set_fullscreen(!e.fullscreen)}}(this),more_description_btn:function(e){return function(){var t;return t=e.container.find(".collapse_data"),$(document.body).track_rats("doc:more_information_button:click",{action:t.is(".show_more")?"hide":"show"}),t.toggleClass("show_more")}}(this),download_btn:function(e){return function(){return e.download_document("sidebar")}}(this),download_app_promo_lightbox:function(e){return function(){return e.container.track_rats("download_app_promo:text_link:click",{doc_id:Scribd.current_doc.id}),Scribd.Lightbox.open("app_download_promo_lightbox")}}(this),trial_learn_more_btn:function(e){return function(t){return Scribd.SignIn.open({initial_view:"join",join_type:"archive",next_url:e.opts.subscribe_url,track_location:"learn_more"},t)}}(this)}),$(document.body).on("scribd:unpause_account",function(e){return function(){return e.container.removeClass("has_toolbar_nag")}}(this)),i=function(e){return function(t){return $(document.body).track_rats("doc:zoom_"+t+"_button:click",{to_zoom_level:Math.floor(100*e.current_zoom)+"%"})}}(this),Scribd.R.dispatch(this.container,{"toolbar:goto_page":function(e){return function(t,n,i){var r,o;return null==i&&(i=!1),r=n>e.current_page?1:-1,o=docManager.getClosestPageNumber(n,r),i||(e.going_to_page={text:""+n,from_page:""+(e.current_page||1)}),docManager.gotoPage(o,{direction:r})}}(this),"toolbar:zoom_in":function(e){return function(){return e.current_zoom>=e.constructor.max_zoom?void 0:("undefined"!=typeof docManager&&null!==docManager&&docManager.zoom(1.25),e.render(),i("in"))}}(this),"toolbar:zoom_out":function(e){return function(){return e.current_zoom<=e.constructor.min_zoom?void 0:("undefined"!=typeof docManager&&null!==docManager&&docManager.zoom(.8),e.render(),i("out"))}}(this),"toolbar:download":function(e){return function(){return e.download_document(e.fullscreen?"toolbar right fullscreen":"toolbar right default")}}(this),"toolbar:print":function(e){return function(){return $(document.body).track_rats("doc:print_button:click"),e.print_document()}}(this),"toolbar:fullscreen":function(e){return function(){return $(document.body).track_rats("doc:fullscreen_button:click",{action:e.fullscreen?"exit fullscreen":"fullscreen"}),e.set_fullscreen(!e.fullscreen)}}(this),"toolbar:clear_search":function(e){return function(){return e.highlighter.clear()}}(this),"toolbar:goto_search_result":function(e){return function(t,n,i){var r,o,s;return(o=e.last_search_results[n])?(i||$(document.body).track_rats("doc:search_doc_result:click",{index:n}),s=_.filter(e.last_search_results,function(e){return e.pageNum===o.pageNum}),r=_.indexOf(s,o),e.highlighter.select_result(o.pageNum,r)):void 0}}(this),"toolbar:search":function(e){return function(t,n){return $(document.body).track_rats("doc:search_doc:engage",{text:n}),$.post(e.document.toolbar.search_url,{query:n}).done(function(t){return e.last_search_results=t,e.toolbar.set_search_results(n,t)})}}(this)}),this.container.on("scribd:close_banner",function(e){return function(){return e.container.removeClass("store_promo_open")}}(this))},n.prototype.set_fullscreen=function(e){return this.fullscreen=e,this.render(),this.refresh_pages()},n.prototype.setup_fullscreen_btn=function(){var e;return e=function(e){return function(){var t,n;return t=e.container.find(".floating_fullscreen_btn"),n=0,e.container.find(".document_container, .document_details, .toolbar_drop, .header_spacer").each(function(e,t){return n+=t.scrollHeight}),window.scrollY+window.innerHeight>n?t.addClass("visually_hidden"):t.removeClass("visually_hidden")}}(this),$(window).on("scroll resize",e),e()},n.prototype.print_document=function(){return $(document.body).track_rats("doc:print_modal:show"),Scribd.Lightbox.open_react("print_document_lb",Scribd.R.Pdfs.Lightboxes.PrintLightbox({download_fn:function(e){return function(){return e.download_document("print modal")}}(this)}))},n.prototype.flag_document=function(e){return $(document.body).track_rats("doc:flag_button:click"),Scribd.with_login({initial_view:"login",login_header_text:I18n.t("pdfs.show.sign_in_to_flag_this_title")},function(){return function(){return Scribd.Lightbox.remote_open("lightbox_flag_document",e)}}(this))},n.prototype.download_document=function(e){return e&&$(document.body).track_rats("doc:download_button:click",{location:e}),Scribd.Lightbox.show_loading(),Scribd.download_actions.download(this.document.id,"read",e,function(e){return function(){return $.post(e.document.download_url).done(function(t){return $(document.body).track_rats("doc:download_modal:show"),t.props.download_url=e.document.download_url,window.location.search.match(/\border\b/)&&(t.props.just_signed_up=!0),Scribd.Lightbox.last_focused_element=$(".action_button.download_btn"),Scribd.download_actions.render_lightbox(t.props,t.show_receipt_lightbox)})}}(this))},n.prototype.setup_reading_progress=function(){var e,t,n,i;if(window.docManager)return e=null!=(t=window.location.hash.match(/\bpage=(\d+)/))?t[1]:void 0,e||(e=null!=(n=Scribd.current_doc)&&null!=(i=n.reading_progress)?i.offset:void 0),new Scribd.ReadingProgress.Pdf({scroll_node:DocumentManager.scrollParent||document.body,total_pages:this.opts.document.total_pages,doc_id:this.opts.document.id,container:this.container.find(".document_scroller"),is_embed:!1}),docManager.view_manager_deferred.then(function(t){return function(){var n;return n=window.location.hash.match(/\bfullscreen\b/),e&&+e>1&&docManager.gotoPage(+e),n?_.defer(function(){return t.set_fullscreen(!0)}):void 0}}(this)),$(window).on("scribd:external_reading_progress",function(){return function(e,t){return docManager.gotoPage(+t.offset+1)}}(this))},n.prototype.setup_embed_referral=function(){var e;return e=window.location.hash.search(/from_embed/)>0},n.prototype.setup_seo_roadblock=function(){var e;if(window.docManager&&Scribd.SeoShared.setup_assignment()&&!this.opts.view_restricted)return ouibounce(!1,{aggressive:!!(null!=(e=document.location.search)?e.match(/\bseo_roadblock\b/):void 0),callback:function(){return function(){var e,t,n;if(!Scribd.Lightbox.current_open)return n=Scribd.SeoShared.seo_variation(),t="seo_roadblock_lb_"+n,e=Scribd.Lightbox.open(t,Scribd.SeoLightbox)}}(this)})},n.prototype.setup_nyt_student_promo_banner=function(){return this.opts.subscriber?void 0:(this.container.find(".nyt_student_promo").css("display","flex"),this.container.track_rats("scribd:pdfs:nyt_student_promo_banner:view",{loc:"pdfs:show"}))},n.prototype.setup_buy_manager=function(){var e;return e=Scribd.BuyDocManager.for_current_doc(),this.container.find(".primary_buy_btn").attr("href",e.buy_url)},n}()}).call(this),(Scribd.translations=Scribd.translations||[]).push({en_US:{pdfs:{show:{sign_in_to_flag_this_title:"Sign in to flag this title",page_page_is_not_shown:"Page %{page} is not shown in this preview.",pages_start_page_to_end_page_is_not_shown:"Pages <span class='missing_page_number notranslate'>%{start_page}</span> to <span class='missing_page_number notranslate'>%{end_page}</span> are not shown in this preview.",sign_up_to_print_document_after:"Sign up to print document after downloading",you_re_reading_a_preview:"You're Reading a Preview",unlock_full_access:"Unlock full access with a free trial.",free_with_a_30:"Free With a 30 Day Trial",download_with_free_trial:"Download With Free Trial",welcome_to_scribd:"Welcome to Scribd!",start_your_free_trial_and_access:"Start your free trial and access books, documents and more.",find_out_more:"Find out more",document_information:"Document Information",document_toolbar:"Document Toolbar"}}}});


/* app/views/pdfs/sidebar/_admin_panel.coffee @ 1520375044 */
(function(){Scribd.ReadPageAdmin=function(){function e(e){var t;this.container=$(e),t=!0,this.container.dispatch("click",{toggle_admin_btn:function(e){return function(){return e.container.toggleClass("open")}}(this)})}return e}()}).call(this);


/* app/views/pdfs/_toolbar.coffee @ 1520375044 */
(function(){var e,t,n,i,r,o,s,a,c,l,u,d,h,p={}.hasOwnProperty,f=[].slice;c=React.DOM,o=c.input,i=c.div,e=c.a,t=c.button,s=c.label,u=c.span,r=c.form,a=c.p,d=c.strong,l=c.section,n=Scribd.R.component_builder("Pdfs.Toolbar",{css_class:"autogen_class_views_pdfs_toolbar"}),h=React.PropTypes,n({propTypes:{fullscreen:h.bool.isRequired,current_zoom:h.number.isRequired,current_page:h.number.isRequired,highlight_callback:h.func,document:h.shape({is_downloadable:h.bool,total_pages:h.number.isRequired,toolbar:h.shape({sections:h.array,search_url:h.string}).isRequired}).isRequired},widget_css_classes:function(e){return classNames(e,{centered_tools:this.state.breakpoint_center_zoomers,narrow_tools:this.state.breakpoint_small_search||this.props.mobile,on_mobile:this.props.mobile})},getInitialState:function(){return{table_of_contents_open:!1,search_results_open:!1,search_results:void 0,search_active:!1,selected_search_result:void 0,search_input:"",changing_to_page:null}},update_width:function(){var e,t,n,i,r,o,s,a,c,l;if(e=this.props.fullscreen?[[1024,"breakpoint_center_zoomers"],[1024,"breakpoint_no_tools"],[1024,"breakpoint_no_pages"],[1024,"breakpoint_no_zoom"],[700,"breakpoint_no_search"],[0,"breakpoint_small_search"],[0,"breakpoint_no_toc"]]:this.props.mobile?[[1024,"breakpoint_center_zoomers"],[700,"breakpoint_no_tools"],[700,"breakpoint_no_zoom"],[550,"breakpoint_no_pages"],[400,"breakpoint_small_search"],[320,"breakpoint_no_toc"],[0,"breakpoint_no_search"]]:[[1024,"breakpoint_center_zoomers"],[700,"breakpoint_no_zoom"],[550,"breakpoint_no_pages"],[400,"breakpoint_no_tools"],[320,"breakpoint_small_search"],[0,"breakpoint_no_search"],[0,"breakpoint_no_toc"]],n=this.container(),l=n.outerWidth(),0!==l){for(c={},i=0,r=e.length;r>i;i++)s=e[i],t=s[0],o=s[1],c[o]=t>l;a=[];for(o in c)if(p.call(c,o)){if(this.state[o]!==c[o]){this.setState(c);break}a.push(void 0)}return a}},componentDidUpdate:function(){return this.update_width()},componentDidMount:function(){return $(window).on("resize orientationchange",_.debounce(this.update_width,150)),this.update_width(),$(document.body).on("click",function(e){return function(t){var n;return e.state.search_results_open&&(n=$(t.target).closest(e.refs.search_wrapper),n.length||e.setState({search_results_open:!1})),e.state.table_of_contents_open&&(n=$(t.target).closest(e.refs.toc_wrapper),!n.length)?e.setState({table_of_contents_open:!1}):void 0}}(this))},set_search_results:function(e,t){var n;if(e===this.state.last_search_query)return"function"==typeof(n=this.props).highlight_callback&&n.highlight_callback(e,t),t.length>0&&this.trigger("toolbar:goto_search_result",0,!0),this.setState({search_results:t,search_results_open:!0,search_active:!1,table_of_contents_open:!1,selected_search_result:t[0]&&0})},number_format:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},render:function(){return[i({className:"left_tools",children:this.render_left_tools()}),i({className:"center_tools",children:this.state.breakpoint_no_pages?void 0:this.render_center_tools()}),i({className:"right_tools",children:this.render_right_tools()})]},render_left_tools:function(){var n;return n=!this.state.breakpoint_no_search&&!this.state.breakpoint_no_toc&&this.props.document.toolbar.sections,[this.props.fullscreen?e({href:"/",className:"toolbar_scribd_logo"}):void 0,n?i({ref:"toc_wrapper",className:"toc_wrapper",children:[t({type:"button","data-tooltip":!0,"aria-label":I18n.t("pdfs.toolbar.table_of_contents"),className:classNames("toc_btn icon-ic_toc_list","toolbar_btn",{active:this.state.table_of_contents_open}),onClick:function(e){return function(){return $(document.body).track_rats("doc:table_of_contents_button:click",{action:e.state.table_of_contents_open?"hide":"show"}),e.setState({table_of_contents_open:!e.state.table_of_contents_open,search_results_open:!1})}}(this)}),this.state.table_of_contents_open?this.render_toc():void 0]}):void 0,!this.state.breakpoint_no_search&&this.props.document.toolbar.search_url?i({ref:"search_wrapper",className:"search_wrapper",children:[this.render_search(),this.state.search_results_open&&this.state.search_results?this.render_search_results():void 0]}):void 0]},render_center_tools:function(){var e,n;return n=this.props.current_zoom<=Scribd.PdfsShow.min_zoom,e=this.props.current_zoom>=Scribd.PdfsShow.max_zoom,[i({className:"toolbar_pager",children:[o({type:"number",className:"page_input","aria-label":I18n.t("pdfs.toolbar.go_to_page"),value:null!=this.state.changing_to_page?this.state.changing_to_page:this.props.current_page,onFocus:function(){return function(){return $(document.body).track_rats("doc:pager:click")}}(this),onBlur:function(e){return function(t){var n;if(null!=e.state.changing_to_page)return t.target.value.match(/\d/)&&(n=parseInt(t.target.value,10),n!==e.props.current_page&&e.trigger("toolbar:goto_page",n)),e.setState({changing_to_page:null})}}(this),onKeyDown:function(e){return function(t){if(e.state.changing_to_page)switch(t.keyCode){case 13:return e.trigger("toolbar:goto_page",parseInt(t.target.value,10)),e.setState({changing_to_page:null});case 27:return e.setState({changing_to_page:null})}}}(this),onChange:function(e){return function(t){return e.setState({changing_to_page:t.target.value})}}(this)}),u({className:"total_pages","aria-live":"polite","aria-atomic":"true",children:[u({className:"visually_hidden"},I18n.t("pdfs.toolbar.you_are_on_page_props_current_page",{props_current_page:this.props.current_page})),u({},I18n.t("pdfs.toolbar.of_numberformat_props_document_total_pages",{numberformat_props_document_total_pages:this.number_format(this.props.document.total_pages)}))]})]}),this.state.breakpoint_no_zoom?void 0:t({type:"button","data-tooltip":!0,"aria-label":I18n.t("pdfs.toolbar.zoom_in"),className:classNames("toolbar_btn zoom_btn icon-ic_zoom_in_default",{disabled:e}),onClick:function(t){return function(){return e?void 0:t.trigger("toolbar:zoom_in")}}(this)}),this.state.breakpoint_no_zoom?void 0:t({type:"button","data-tooltip":!0,"aria-label":I18n.t("pdfs.toolbar.zoom_out"),className:classNames("toolbar_btn zoom_btn icon-ic_zoom_out_default",{disabled:n}),onClick:function(e){return function(){return n?void 0:e.trigger("toolbar:zoom_out")}}(this)})]},render_right_tools:function(){var e;return e=!this.props.mobile&&!this.state.breakpoint_no_tools,[this.props.document.is_downloadable?this.props.fullscreen||this.props.mobile?this.common_button({className:classNames({slim:this.props.mobile}),onClick:function(e){return function(){return e.trigger("toolbar:download")}}(this)},I18n.t("pdfs.toolbar.download")):this.state.breakpoint_no_tools?void 0:t({type:"button","data-tooltip":!0,"aria-label":I18n.t("pdfs.toolbar.download"),className:"toolbar_btn icon-ic_download_with_line",onClick:function(e){return function(){return e.trigger("toolbar:download")}}(this)}):void 0,this.props.mobile?void 0:[this.props.document.is_downloadable&&!this.state.breakpoint_no_tools?t({"data-tooltip":!0,"aria-label":I18n.t("pdfs.toolbar.print"),className:"toolbar_btn icon-ic_print",onClick:function(e){return function(){return e.trigger("toolbar:print")}}(this)}):void 0,t({"data-tooltip":!0,"aria-label":I18n.t(this.props.fullscreen?"pdfs.toolbar.exit_fullscreen":"pdfs.toolbar.fullscreen"),type:"button",className:classNames("toolbar_btn",{"icon-ic_fullscreen_window":!this.props.fullscreen,"icon-ic_fullscreen_collapse":this.props.fullscreen}),onClick:function(e){return function(){return e.trigger("toolbar:fullscreen")}}(this)})]]},render_search:function(){return r({className:classNames("doc_search",{focused:this.state.search_focused,open:this.state.search_results_open,has_text:""!==this.state.search_input,narrow_search:this.state.breakpoint_small_search}),action:this.props.document.toolbar.search_url,onSubmit:function(e){return function(t){var n;return t.preventDefault(),n=$(e.refs.search_input).val(),n.match(/^\s*$/)?void e.setState({search_results_open:!1}):(n=n.match(/^\s*(.*?)\s*$/)[0],n!==e.state.last_search_query?(e.trigger("toolbar:search",n),e.setState({search_active:!0,search_results_open:!1,last_search_query:n,search_results:void 0,selected_search_result:void 0})):void 0)}}(this),children:[s({children:[this.state.search_active?i({className:"scribd_spinner","data-size":20}):void 0,u({className:"icon-ic_search search_icon","aria-hidden":"true",role:"presentation"}),o({type:"text",ref:"search_input","aria-label":I18n.t("pdfs.toolbar.search_document"),placeholder:I18n.t(this.state.breakpoint_small_search?"pdfs.toolbar.search":"pdfs.toolbar.search_document"),className:"search_input",value:this.state.search_input,onChange:function(e){return function(t){return e.setState({search_input:t.target.value})}}(this),onBlur:function(e){return function(t){return e.setState({search_focused:!1}),t.target.value!==e.state.last_search_query?e.trigger("toolbar:clear_search"):void 0}}(this),onFocus:function(e){return function(t){return e.setState({search_focused:!0}),$(document.body).track_rats("doc:search_doc:click"),e.state.search_active||!e.state.search_results||e.state.search_results_open||t.target.value!==e.state.last_search_query?void 0:e.setState({search_results_open:!0})}}(this),onKeyDown:function(e){return function(t){return 27===t.keyCode?e.state.search_results_open?e.setState({search_results_open:!1,last_search_query:null}):e.state.search_active&&e.state.last_search_query?e.setState({search_active:!1,last_search_query:null}):(e.trigger("toolbar:clear_search"),e.setState({search_input:""})):void 0}}(this)}),""!==this.state.search_input?t({type:"button",className:"search_close_icon icon-ic_close",onClick:function(e){return function(){return e.setState({search_input:"",search_active:!1,search_results_open:!1,last_search_query:null}),e.trigger("toolbar:clear_search")}}(this)}):void 0]})]})},render_search_results:function(){var t,n,r,o,s;return r=this.state.last_search_query,o=this.state.search_results.filter(function(e){return!!e.snippet}),t=o.length,n=function(e,t,n){return this.number_format(e)+" "+(1===e&&t||n)},s=1===t?I18n.t("pdfs.toolbar.showing_strong_1_strong_result_for_query"):I18n.t("pdfs.toolbar.showing_strong_num_results_strong_results_for_query",{num_results:t}),i({className:classNames("search_results results_popup",{empty:0===t}),children:[i({className:"results_header results_header",children:[u({dangerouslySetInnerHTML:{__html:s}}),u({}," \u2018"+r+"\u2019")]}),o.map(function(t){return function(n,o){return i({className:classNames("results_row available",{selected:o===t.state.selected_search_result}),children:[u({className:"result_page_number"},t.number_format(n.pageNum)),e.apply(null,[{href:"javascript:void(0)",onClick:function(e){return e.preventDefault(),t.trigger("toolbar:goto_search_result",o),t.setState({selected_search_result:o})}}].concat(f.call(t.render_snippet(n.snippet,r))))]})}}(this))]})},render_snippet:function(e,t){var n,i,r,o,s,c;if(!t)return e;for(r=RegExp(Scribd.escape_regexp(t),"ig"),i=[],o=0;s=r.exec(e);)a=s.index,n=s[0],a-o>0&&i.push(e.substring(o,a)),i.push(d({},n)),o=a+n.length;return(c=e.substring(o))&&i.push(c),i},render_toc:function(){var t;return t=null,i({className:"table_of_contents results_popup",children:[i({className:"toc_header results_header"},I18n.t("pdfs.toolbar.table_of_contents")),this.props.document.toolbar.sections.map(function(n){return function(r){return!t&&r.first_page>=n.props.current_page&&(t=r),i({className:classNames("toc_row results_row",{available:r.allowed,current:t===r}),title:r.allowed?void 0:I18n.t("pdfs.toolbar.this_section_not_available_in_preview"),children:[r.first_page?u({className:"result_page_number"},n.number_format(r.first_page)):void 0,r.allowed?e({href:"javascript:void(0)",onClick:function(e){return n.trigger("toolbar:goto_page",r.first_page,!0),n.setState({table_of_contents_open:!1}),e.preventDefault()}},r.title):u({className:"disabled_section"},r.title)]})}}(this))]})}})}).call(this),(Scribd.translations=Scribd.translations||[]).push({en_US:{pdfs:{toolbar:{table_of_contents:"Table of contents",of_numberformat_props_document_total_pages:"of %{numberformat_props_document_total_pages}",zoom_in:"Zoom in",zoom_out:"Zoom out",download:"Download",print:"Print",exit_fullscreen:"Exit fullscreen",fullscreen:"Fullscreen",search_document:"Search document",this_section_not_available_in_preview:"This section not available in preview",showing_strong_1_strong_result_for_query:"Showing <strong>1</strong> result for",showing_strong_num_results_strong_results_for_query:"Showing <strong>%{num_results}</strong> results for",edit_page:"Edit page",search:"Search",go_to_page:"Go to Page",you_are_on_page_props_current_page:"You are on page %{props_current_page}"}}}});


/* app/views/pdfs/upvote.coffee @ 1520375044 */
(function(){Scribd.Upvote=function(){function e(e,t){this.opts=t,this.container=$(e),$(document).on("scribd:upvote_popover:show:above_banner",function(e){return function(){return e.show_above_banner()}}(this)),$(document).on("scribd:upvote_popover:show",function(e){return function(){return e.show()}}(this)),$(document).on("scribd:upvote_popover:hide",function(e){return function(){return _.delay(function(){return e.hide()},2e3)}}(this)),$(document).on("scribd:rating_update, scribd:upvote_update",function(e){return function(){return _.delay(function(){return e.hide()},2e3)}}(this)),this.container.on("click",".close",function(e){return function(){return e.hide()}}(this)),this.container.one("click",".thumbs_up",function(e){return function(){return e.container.find(".thumbs_up .icon"),e.container.find(".thumbs_up").addClass("selected has_selection"),e.rate(5)}}(this)),this.container.one("click",".thumbs_down",function(e){return function(){return e.container.find(".thumbs_down .icon"),e.container.find(".thumbs_down").addClass("selected has_selection"),e.rate(1)}}(this))}return e.prototype.rate=function(e){return Scribd.with_login({initial_view:"join",track_location:"upvotes",join_header_text:I18n.t("shared.react.star_ratings.sign_up_to_rate_this_title")},function(t){return function(){return $.post(t.opts.ratings_path,{rated:e,source:4}),t.container.trigger("scribd:rating_update",{props:{doc_id:t.opts.doc_id},state:{user_rating:e}}),t.container.trigger("scribd:upvote_update:pdf_reader",{rating:e,doc_id:t.opts.doc_id}),_.delay(function(){return t.hide()},1e3)}}(this))},e.prototype.show=function(){return this.container.fadeIn(1e3)},e.prototype.show_above_banner=function(){return this.container.css("bottom","100px"),this.container.fadeIn(1e3)},e.prototype.hide=function(){return this.container.fadeOut(1e3)},e}()}).call(this);


/* app/views/shared/reading_progress/audio.coffee @ 1520375044 */
(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;Scribd.ReadingProgress.Audio=function(n){function i(t){this.opts=null!=t?t:{},this.update=e(this.update,this),this.player=Scribd.audiobook_player,this.previous_progress=this.get_progress(),i.__super__.constructor.call(this,this.opts),this._player_listen_events=["scribd:audiobook:play","scribd:audiobook:pause","scribd:audiobook:bookmark_location","scribd:audiobook:unload","scribd:audiobook:trackChanged","scribd:audiobook:next","scribd:audiobook:prev","scribd:audiobook:seekTo","scribd:audiobook:skipBack","scribd:audiobook:jumpTo"].join(" "),this.player.on(this._player_listen_events,this.update),this.update_interval=setInterval(this.update,this.post_ms)}return t(i,n),i.get_track_and_position=function(e){var t,n,i,r,o,s;if(n=Scribd.audiobook_player.current_chapters(),e>Scribd.audiobook_player.get_runtime())return{track_num:n.length-1,track_pos:n[n.length-1].duration};for(i=0,o=r=0,s=n.length;s>r;o=++r){if(t=n[o],!(i+t.duration<e))return{track_num:o,track_pos:e-i};i+=t.duration}},i.prototype.enabled=function(){return this.player?i.__super__.enabled.apply(this,arguments):!1},i.prototype.default_opts=function(){return _.extend(i.__super__.default_opts.apply(this,arguments),{preview_restricted:null,preview_threshold:null,player:null})},i.prototype.external_progress_notification_message=function(e){return I18n.t("shared.reading_progress.audio.we_ve_moved_you_to_where_you",{progress_device_name:e.device_name})},i.prototype.create_flash_notice=function(e){return Scribd.Flasher.toast("notice",e)},i.prototype.destroy=function(){return clearInterval(this.update_interval),this.player.off(this._player_listen_events,this.update)},i.prototype.update=function(){var e;if(this.enabled())return this.updated=!0,e=this.get_progress(),this.offset_type="ms",this.offset=e,this.percentage=e/this.player.get_runtime()*100,this.player.isPlaying()?(this.post(),this.track_for_payouts()):void 0},i.prototype.get_progress=function(e,t){var n,i,r,o,s,a;if(null==e&&(e=this.player.get_track_num()),null==t&&(t=this.player.get_track_pos()),i=null!=(a=this.player.current_chapters())?a.slice(0,e):void 0){for(s=0,r=0,o=i.length;o>r;r++)n=i[r],s+=n.duration;return s+=t,this.opts.preview_restricted?s=Math.min(s,this.opts.preview_threshold):s}},i.prototype.track_for_payouts=function(){var e;return e=this.get_progress(),$rat("abook_listen",[Scribd.current_doc.id,void 0,void 0,this.previous_progress,e]),$rat.root().flushEvents(),this.previous_progress=e},i.prototype.check_credit_threshold=function(e){return e.read_time.total>=this.opts.payout_threshold?this.spend_a_credit():void 0},i}(Scribd.ReadingProgress.Base)}).call(this),(Scribd.translations=Scribd.translations||[]).push({en_US:{shared:{reading_progress:{audio:{we_ve_moved_you_to_where_you:"We've moved you to where you listened on your %{progress_device_name}"}}}}});


/* app/views/shared/reading_progress/epub.coffee @ 1520375044 */
(function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Scribd.ReadingProgress.Epub=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.update=function(e,t,n){return this.enabled()?(this.updated=!0,this.offset_type=e,this.offset=t,this.percentage=n,this.throttled_post_handler()):void 0},n.prototype.check_credit_threshold=function(e){var t;if(t=6e5,e.progress.percentage>20){if(Scribd.current_doc.page_count<100)return this.spend_a_credit();if(e.read_time.today>t)return this.spend_a_credit()}},n}(Scribd.ReadingProgress.Base)}).call(this);


/* app/views/shared/reading_progress/past_preview_lightbox.coffee @ 1520375044 */
(function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Scribd.ReadingProgress.PastPreviewLightbox=function(t){function n(e,t){this.opts=null!=t?t:{},this.container=$(e),n.__super__.constructor.apply(this,arguments),this.show_on_open(),this.container.dispatch("click",{restart_preview:function(e){return function(){return window.location.reload(),e.close(!0)}}(this)}),$(document).on("reading_progress:past_preview_lightbox:show",function(e){return function(){return e.show()}}(this))}return e(n,t),n.should_be_shown=function(){var e;return e=!0,function(){var t,n;return e&&Scribd.logged_in&&(null==Scribd.read_page||Scribd.read_page.is_viewer_ready())?(e=!1,t=(null!=(n=Scribd.current_doc.reading_progress)?n.offset:void 0)||0,null!=Scribd.read_page?Scribd.read_page.epub.isProgressBeyondBounds(t):void 0):!1}}(),n.prototype.show=function(){var e;return n.__super__.show.apply(this,arguments),Scribd.current_user.unlimited_user&&this.container.find(".close_button, .close_lb_btn").hide(),e=Scribd.current_doc.is_sheet_music?"sheet music":"book",this.container.track_rats("reading_progress:progress_moved:show",{doc_id:Scribd.current_doc.id,desired_offset:Scribd.current_doc.reading_progress.offset,offset_type:Scribd.current_doc.reading_progress.offset_type,document_type:e,is_preview:!0})},n.prototype.show_on_open=function(){return Scribd.ReadingProgress.PastPreviewLightbox.should_be_shown()?this.show():void 0},n.prototype.close=function(e){return null==e&&(e=!1),e?n.__super__.close.apply(this,arguments):void 0},n}(Scribd.StackedLightbox)}).call(this),(Scribd.translations=Scribd.translations||[]).push({en_US:{shared:{reading_progress:{past_preview_lightbox:{get_the_full_title_to_continue:"Get the full title to continue",get_the_full_title_to_continue_:"Get the full title to continue reading from where you left off, or restart the preview.",restart_preview:"Restart preview",this_title_now_requires_a_credit:"This title now requires a credit",use_one_of_your_book_credits:"Use one of your book credits to continue reading from where you left off, or restart the preview.",the_rest_of_this_title_will:"The rest of this title will be available soon",document_title_will_be_available_on_throttled_available_date_document:"%{document_title} will be available on %{throttled_available_date_document}"}}}}});


/* app/views/shared/reading_progress/pdf.coffee @ 1520375044 */
(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;Scribd.ReadingProgress.Pdf=function(n){function i(t){this.opts=null!=t?t:{},this.update=e(this.update,this),this.handle_input=e(this.handle_input,this),this.setup_events=e(this.setup_events,this),i.__super__.constructor.call(this,this.opts),this.container=$(this.opts.container),this.doc_id=this.opts.doc_id,this.is_embed=this.opts.is_embed||!1,this.setup=!1,$(this.opts.scroll_node).off(this.events.scroll).on(this.events.scroll,this.update),setTimeout(function(e){return function(){return e.container.on("scroll",e.handle_input),$(window).on("resize",e.handle_input),e.container.on("click",e.setup_events)}}(this),250),this.is_embed||this.setup_events()}return t(i,n),i.prototype.enabled=function(){return window.docManager&&this.opts.scroll_node?i.__super__.enabled.apply(this,arguments):!1},i.prototype.default_opts=function(){return _.extend(i.__super__.default_opts.apply(this,arguments),{scroll_node:null})},i.prototype.setup_events=function(){return this.setup?void 0:(this.setup=!0,this.track_view(),setTimeout(function(e){return function(){return e.tracking_enabled=!0,e.track_view()}}(this),1e3),this.tick_track_later=_.debounce(function(e){return function(){return e.tick_track.apply(e,arguments)}}(this),1e3),setInterval(function(e){return function(){return e.current_event&&new Date-e.current_event.time>6e5?e.flush_current_event():void 0}}(this),5e3),$(window).on("beforeunload unload",function(e){return function(){return e.flush_current_event()}}(this)))},i.prototype.handle_input=function(){return this.is_embed&&this.setup_events(),this.track_view()},i.prototype.update=function(){var e;if(this.enabled())return this.updated=!0,e=window.docManager.currentPageNum()-1,this.offset_type="page",this.offset=e,this.percentage=e/this.opts.total_pages*100,this.throttled_post_handler()},i.prototype.flush_current_event=function(){return this.current_event?($rat("doc:view_end",{top_view_position:this.current_event.left,bottom_view_position:this.current_event.right,duration:(new Date-this.current_event.time)/1e3,doc_id:this.opts.doc_id,is_embed:this.is_embed}),this.current_event=null,"undefined"!=typeof $rat&&null!==$rat?$rat.root().flushEvents():void 0):void 0},i.prototype.tick_track=function(e,t){return this.flush_current_event(),this.current_event={left:e,right:t,time:+new Date},$rat("doc:view",{top_view_position:e,bottom_view_position:t,doc_id:this.opts.doc_id,is_embed:this.is_embed})},i.prototype.track_view=function(){var e,t,n,i,r,o;if(this.tracking_enabled&&this.container.is(":visible")&&(t=this.container[0],e=this.container.find(".document_container")[0],o=t.scrollTop,n=e.scrollHeight,i=Math.max(0,Math.min(1,o/n)),r=Math.max(0,Math.min(1,(o+t.offsetHeight)/n)),i!==r))return this.tick_track_later(Math.floor(100*i),Math.floor(100*r))},i}(Scribd.ReadingProgress.Base)}).call(this);
